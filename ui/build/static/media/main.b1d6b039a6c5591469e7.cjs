var DEPENDENCIES,getDependencies,setDependencies,Registry,Registry_default,defaults,defaults_default,OptionRegistry,OptionRegistry_default,registry,option_default,__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return e&&(t=(0,e[__getOwnPropNames(e)[0]])(e=0)),t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__export=(e,t)=>{for(var n in t)__defProp(e,n,{get:t[n],enumerable:!0})},__copyProps=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let s of __getOwnPropNames(t))__hasOwnProp.call(e,s)||s===n||__defProp(e,s,{get:()=>t[s],enumerable:!(r=__getOwnPropDesc(t,s))||r.enumerable});return e},__toESM=(e,t,n)=>(n=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?n:__defProp(n,"default",{value:e,enumerable:!0}),e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),init_vendor=__esm({"src/lib/vendor.mjs"(){DEPENDENCIES={},getDependencies=()=>DEPENDENCIES,setDependencies=e=>{Object.assign(DEPENDENCIES,e)}}}),init_Registry=__esm({"src/lib/class/Registry.mjs"(){Registry_default=Registry=class{constructor(){this.data={}}unregister(e){e?delete this.data[e]:this.data={}}register(e,t){this.data[e]=t}registerMany(e){Object.keys(e).forEach((t=>{this.data[t]=e[t]}))}get(e){return this.data[e]}list(){return this.data}}}}),init_defaults=__esm({"src/lib/api/defaults.mjs"(){defaults_default=defaults={},defaults.defaultInvalidTypeProduct=void 0,defaults.defaultRandExpMax=10,defaults.pruneProperties=[],defaults.ignoreProperties=[],defaults.ignoreMissingRefs=!1,defaults.failOnInvalidTypes=!0,defaults.failOnInvalidFormat=!0,defaults.alwaysFakeOptionals=!1,defaults.optionalsProbability=null,defaults.fixedProbabilities=!1,defaults.useExamplesValue=!1,defaults.useDefaultValue=!1,defaults.requiredOnly=!1,defaults.omitNulls=!1,defaults.minItems=0,defaults.maxItems=null,defaults.minLength=0,defaults.maxLength=null,defaults.resolveJsonPath=!1,defaults.reuseProperties=!1,defaults.fillProperties=!0,defaults.sortProperties=!1,defaults.replaceEmptyByRandomValue=!1,defaults.random=Math.random,defaults.minDateTime=new Date("1889-12-31T00:00:00.000Z"),defaults.maxDateTime=new Date("1970-01-01T00:00:01.000Z"),defaults.renderTitle=!0,defaults.renderDescription=!0,defaults.renderComment=!1}}),init_OptionRegistry=__esm({"src/lib/class/OptionRegistry.mjs"(){init_Registry(),init_defaults(),OptionRegistry_default=OptionRegistry=class extends Registry_default{constructor(){super(),this.data={...defaults_default},this._defaults=defaults_default}get defaults(){return{...this._defaults}}}}});function optionAPI(e,t){return"string"===typeof e?"undefined"!==typeof t?registry.register(e,t):registry.get(e):registry.registerMany(e)}var ALLOWED_TYPES,SCALAR_TYPES,ALL_TYPES,MOST_NEAR_DATETIME,MIN_INTEGER,MAX_INTEGER,MIN_NUMBER,MAX_NUMBER,constants_default,import_randexp,random_default,init_option=__esm({"src/lib/api/option.mjs"(){init_OptionRegistry(),registry=new OptionRegistry_default,optionAPI.getDefaults=()=>registry.defaults,option_default=optionAPI}}),init_constants=__esm({"src/lib/core/constants.mjs"(){SCALAR_TYPES=(ALLOWED_TYPES=["integer","number","string","boolean"]).concat(["null"]),ALL_TYPES=["array","object"].concat(SCALAR_TYPES),constants_default={ALLOWED_TYPES:ALLOWED_TYPES,SCALAR_TYPES:SCALAR_TYPES,ALL_TYPES:ALL_TYPES,MIN_NUMBER:MIN_NUMBER=-100,MAX_NUMBER:MAX_NUMBER=100,MIN_INTEGER:MIN_INTEGER=-1e8,MAX_INTEGER:MAX_INTEGER=1e8,MOST_NEAR_DATETIME:MOST_NEAR_DATETIME=2524608e6}}}),require_types=__commonJS({"node_modules/ret/lib/types.js"(e,t){t.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}}}),require_sets=__commonJS({"node_modules/ret/lib/sets.js"(e){var t=require_types(),n=()=>[{type:t.RANGE,from:48,to:57}],r=()=>[{type:t.CHAR,value:95},{type:t.RANGE,from:97,to:122},{type:t.RANGE,from:65,to:90}].concat(n()),s=()=>[{type:t.CHAR,value:9},{type:t.CHAR,value:10},{type:t.CHAR,value:11},{type:t.CHAR,value:12},{type:t.CHAR,value:13},{type:t.CHAR,value:32},{type:t.CHAR,value:160},{type:t.CHAR,value:5760},{type:t.RANGE,from:8192,to:8202},{type:t.CHAR,value:8232},{type:t.CHAR,value:8233},{type:t.CHAR,value:8239},{type:t.CHAR,value:8287},{type:t.CHAR,value:12288},{type:t.CHAR,value:65279}];e.words=()=>({type:t.SET,set:r(),not:!1}),e.notWords=()=>({type:t.SET,set:r(),not:!0}),e.ints=()=>({type:t.SET,set:n(),not:!1}),e.notInts=()=>({type:t.SET,set:n(),not:!0}),e.whitespace=()=>({type:t.SET,set:s(),not:!1}),e.notWhitespace=()=>({type:t.SET,set:s(),not:!0}),e.anyChar=()=>({type:t.SET,set:[{type:t.CHAR,value:10},{type:t.CHAR,value:13},{type:t.CHAR,value:8232},{type:t.CHAR,value:8233}],not:!0})}}),require_util=__commonJS({"node_modules/ret/lib/util.js"(e){var t=require_types(),n=require_sets(),r={0:0,t:9,n:10,v:11,f:12,r:13};e.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,(function(e,t,n,s,i,a,o,l){if(n)return e;var u=t?8:s?parseInt(s,16):i?parseInt(i,16):a?parseInt(a,8):o?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(o):r[l],c=String.fromCharCode(u);return/[[\]{}^$.|?*+()]/.test(c)&&(c="\\"+c),c}))},e.tokenizeClass=(r,s)=>{for(var i,a,o=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(i=l.exec(r));)if(i[1])o.push(n.words());else if(i[2])o.push(n.ints());else if(i[3])o.push(n.whitespace());else if(i[4])o.push(n.notWords());else if(i[5])o.push(n.notInts());else if(i[6])o.push(n.notWhitespace());else if(i[7])o.push({type:t.RANGE,from:(i[8]||i[9]).charCodeAt(0),to:i[10].charCodeAt(0)});else{if(!(a=i[12]))return[o,l.lastIndex];o.push({type:t.CHAR,value:a.charCodeAt(0)})}e.error(s,"Unterminated character class")},e.error=(e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}}}),require_positions=__commonJS({"node_modules/ret/lib/positions.js"(e){var t=require_types();e.wordBoundary=()=>({type:t.POSITION,value:"b"}),e.nonWordBoundary=()=>({type:t.POSITION,value:"B"}),e.begin=()=>({type:t.POSITION,value:"^"}),e.end=()=>({type:t.POSITION,value:"$"})}}),require_lib=__commonJS({"node_modules/ret/lib/index.js"(e,t){var n=require_util(),r=require_types(),s=require_sets(),i=require_positions();t.exports=e=>{var t,a,o=0,l={type:r.ROOT,stack:[]},u=l,c=l.stack,f=[],p=t=>{n.error(e,"Nothing to repeat at column "+(t-1))},d=n.strToChars(e);for(t=d.length;o<t;)switch(a=d[o++]){case"\\":switch(a=d[o++]){case"b":c.push(i.wordBoundary());break;case"B":c.push(i.nonWordBoundary());break;case"w":c.push(s.words());break;case"W":c.push(s.notWords());break;case"d":c.push(s.ints());break;case"D":c.push(s.notInts());break;case"s":c.push(s.whitespace());break;case"S":c.push(s.notWhitespace());break;default:/\d/.test(a)?c.push({type:r.REFERENCE,value:parseInt(a,10)}):c.push({type:r.CHAR,value:a.charCodeAt(0)})}break;case"^":c.push(i.begin());break;case"$":c.push(i.end());break;case"[":var m;"^"===d[o]?(m=!0,o++):m=!1;var h=n.tokenizeClass(d.slice(o),e);o+=h[1],c.push({type:r.SET,set:h[0],not:m});break;case".":c.push(s.anyChar());break;case"(":var g={type:r.GROUP,stack:[],remember:!0};"?"===(a=d[o])&&(a=d[o+1],o+=2,"="===a?g.followedBy=!0:"!"===a?g.notFollowedBy=!0:":"!==a&&n.error(e,`Invalid group, character '${a}' after '?' at column ${o-1}`),g.remember=!1),c.push(g),f.push(u),u=g,c=g.stack;break;case")":0===f.length&&n.error(e,"Unmatched ) at column "+(o-1)),c=(u=f.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var y=[];u.options.push(y),c=y;break;case"{":var _,b,v=/^(\d+)(,(\d+)?)?\}/.exec(d.slice(o));null!==v?(0===c.length&&p(o),_=parseInt(v[1],10),b=v[2]?v[3]?parseInt(v[3],10):1/0:_,o+=v[0].length,c.push({type:r.REPETITION,min:_,max:b,value:c.pop()})):c.push({type:r.CHAR,value:123});break;case"?":0===c.length&&p(o),c.push({type:r.REPETITION,min:0,max:1,value:c.pop()});break;case"+":0===c.length&&p(o),c.push({type:r.REPETITION,min:1,max:1/0,value:c.pop()});break;case"*":0===c.length&&p(o),c.push({type:r.REPETITION,min:0,max:1/0,value:c.pop()});break;default:c.push({type:r.CHAR,value:a.charCodeAt(0)})}return 0!==f.length&&n.error(e,"Unterminated group"),l},t.exports.types=r}}),require_lib2=__commonJS({"node_modules/drange/lib/index.js"(e,t){"use strict";var n=class e{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(t){return new e(Math.min(this.low,t.low),Math.max(this.high,t.high))}subtract(t){return t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new e(this.low,t.low-1),new e(t.high+1,this.high)]:t.low<=this.low?[new e(t.high+1,this.high)]:[new e(this.low,t.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}};t.exports=class e{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce(((e,t)=>e+t.length),0)}add(t,r){var s=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;n.push(e),this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return t instanceof e?t.ranges.forEach(s):(null==r&&(r=t),s(new n(t,r))),this}subtract(t,r){var s=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)n=n.concat(this.ranges[t].subtract(e)),t++;this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return t instanceof e?t.ranges.forEach(s):(null==r&&(r=t),s(new n(t,r))),this}intersect(t,r){var s=[],i=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var r=Math.max(this.ranges[t].low,e.low),i=Math.min(this.ranges[t].high,e.high);s.push(new n(r,i)),t++}};return t instanceof e?t.ranges.forEach(i):(null==r&&(r=t),i(new n(t,r))),this.ranges=s,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new e(this)}numbers(){return this.ranges.reduce(((e,t)=>{for(var n=t.low;n<=t.high;)e.push(n),n++;return e}),[])}subranges(){return this.ranges.map((e=>({low:e.low,high:e.high,length:1+e.high-e.low})))}}}}),require_randexp=__commonJS({"node_modules/randexp/lib/randexp.js"(e,t){var n=require_lib(),r=require_lib2(),s=n.types;t.exports=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!==typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=n(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var n,r,i,a,o;switch(e.type){case s.ROOT:case s.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),r="",a=0,o=(n=e.options?this._randSelect(e.options):e.stack).length;a<o;a++)r+=this._gen(n[a],t);return e.remember&&(t[e.groupNumber]=r),r;case s.POSITION:return"";case s.SET:var l=this._expand(e);return l.length?String.fromCharCode(this._randSelect(l)):"";case s.REPETITION:for(i=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),r="",a=0;a<i;a++)r+=this._gen(e.value,t);return r;case s.REFERENCE:return t[e.value-1]||"";case s.CHAR:var u=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(u)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof r?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===n.types.CHAR)return new r(e.value);if(e.type===n.types.RANGE)return new r(e.from,e.to);{let t=new r;for(let n=0;n<e.set.length;n++){let r=this._expand(e.set[n]);if(t.add(r),this.ignoreCase)for(let e=0;e<r.length;e++){let n=r.index(e),s=this._toOtherCase(n);n!==s&&t.add(s)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new r(32,126)}set defaultRange(e){this._range=e}static randexp(t,n){var r;return"string"===typeof t&&(t=new RegExp(t,n)),void 0===t._randexp?(r=new e(t,n),t._randexp=r):(r=t._randexp)._setDefaults(t),r.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}}}});function getRandomInteger(e,t){return e="undefined"===typeof e?constants_default.MIN_INTEGER:e,t="undefined"===typeof t?constants_default.MAX_INTEGER:t,Math.floor(option_default("random")()*(t-e+1))+e}function _randexp(e){import_randexp.default.prototype.max=option_default("defaultRandExpMax"),import_randexp.default.prototype.randInt=(e,t)=>e+Math.floor(option_default("random")()*(t-e+1));return new import_randexp.default(e).gen()}function pick(e){return e[Math.floor(option_default("random")()*e.length)]}function shuffle(e){let t,n,r=e.length;const s=e.slice();for(;r>0;)n=Math.floor(option_default("random")()*r),r-=1,t=s[r],s[r]=s[n],s[n]=t;return s}function getRandom(e,t){return option_default("random")()*(t-e)+e}function number(e,t,n,r,s=!1){return n="undefined"===typeof n?constants_default.MIN_NUMBER:n,r="undefined"===typeof r?constants_default.MAX_NUMBER:r,(t="undefined"===typeof t?r:t)<(e="undefined"===typeof e?n:e)&&(t+=e),s?getRandom(e,t):getRandomInteger(e,t)}function by(e){switch(e){case"seconds":return 60*number(0,60);case"minutes":return 612*number(15,50);case"hours":return 36123*number(12,72);case"days":return 86412345*number(7,30);case"weeks":return 604812345*number(4,52);case"months":return 2592012345*number(2,13);case"years":return 31104012345*number(1,20)}}function date(e){if(e)return by(e);let t=option_default("minDateTime"),n=option_default("maxDateTime");"string"===typeof t&&(t=new Date(t)),"string"===typeof n&&(n=new Date(n));const r=(new Date).getTime();return"number"===typeof t&&(t=new Date(r+t)),"number"===typeof n&&(n=new Date(r+n)),new Date(getRandom(t.getTime(),n.getTime()))}var RE_NUMERIC,utils_default,init_random=__esm({"src/lib/core/random.mjs"(){import_randexp=__toESM(require_randexp(),1),init_option(),init_constants(),random_default={pick:pick,date:date,shuffle:shuffle,number:number,randexp:_randexp}}});function getLocalRef(e,t,n){if(t=decodeURIComponent(t),n&&n[t])return clone(n[t]);const r=t.replace("#/","/").split("/");let s=e.$ref&&n&&n[e.$ref]||e;for(s||r[0]||(r[0]=e.$ref.split("#/")[0]),n&&t.includes("#/")&&n[r[0]]&&(s=n[r.shift()]),r[0]||r.shift();s&&r.length>0;){const e=r.shift();if(!s[e])throw new Error(`Prop not found: ${e} (${t})`);s=s[e]}return s}function isNumeric(e){return"string"===typeof e&&RE_NUMERIC.test(e)}function isScalar(e){return["number","boolean"].includes(typeof e)}function hasProperties(e,...t){return t.filter((t=>"undefined"!==typeof e[t])).length>0}function clampDate(e){if(e.includes(" "))return new Date(e).toISOString().substr(0,10);let[t,n,r]=e.split("T")[0].split("-");return n=`0${Math.max(1,Math.min(12,n))}`.slice(-2),r=`0${Math.max(1,Math.min(31,r))}`.slice(-2),`${t}-${n}-${r}`}function clampDateTime(e){if(e.includes(" "))return new Date(e).toISOString().substr(0,10);const[t,n]=e.split("T");let[r,s,i]=t.split("-"),[a,o,l]=n.substr(0,8).split(":");return s=`0${Math.max(1,Math.min(12,s))}`.slice(-2),i=`0${Math.max(1,Math.min(31,i))}`.slice(-2),a=`0${Math.max(1,Math.min(23,a))}`.slice(-2),o=`0${Math.max(1,Math.min(59,o))}`.slice(-2),l=`0${Math.max(1,Math.min(59,l))}`.slice(-2),`${r}-${s}-${i}T${a}:${o}:${l}.000Z`}function typecast(e,t,n){const r={};switch(e||t.type){case"integer":case"number":if("undefined"!==typeof t.minimum&&(r.minimum=t.minimum),"undefined"!==typeof t.maximum&&(r.maximum=t.maximum),t.enum){let e=Math.max(r.minimum||0,0),n=Math.min(r.maximum||1/0,1/0);t.exclusiveMinimum&&e===t.minimum&&(e+=t.multipleOf||1),t.exclusiveMaximum&&n===t.maximum&&(n-=t.multipleOf||1),(e||n!==1/0)&&(t.enum=t.enum.filter((t=>t>=e&&t<=n)))}break;case"string":r.minLength=option_default("minLength")||0,r.maxLength=option_default("maxLength")||Number.MAX_SAFE_INTEGER,"undefined"!==typeof t.minLength&&(r.minLength=Math.max(r.minLength,t.minLength)),"undefined"!==typeof t.maxLength&&(r.maxLength=Math.min(r.maxLength,t.maxLength))}let s=n(r);if(null===s||void 0===s)return null;switch(e||t.type){case"number":s=isNumeric(s)?parseFloat(s):s;break;case"integer":s=isNumeric(s)?parseInt(s,10):s;break;case"boolean":s=!!s;break;case"string":{if(isScalar(s))return s;s=String(s);const e=Math.max(r.minLength||0,0),n=Math.min(r.maxLength||1/0,1/0);let i,a=0;for(;s.length<e;)if(i=s,t.pattern?s+=random_default.randexp(t.pattern):s+=`${random_default.pick([" ","/","_","-","+","=","@","^"])}${s}`,s===i){if(a+=1,3===a)break}else a=0;switch(s.length>n&&(s=s.substr(0,n)),t.format){case"date-time":case"datetime":s=new Date(clampDateTime(s)).toISOString().replace(/([0-9])0+Z$/,"$1Z");break;case"full-date":case"date":s=new Date(clampDate(s)).toISOString().substr(0,10);break;case"time":s=new Date(`1969-01-01 ${s}`).toISOString().substr(11)}break}}return s}function merge(e,t){return Object.keys(t).forEach((n=>{"object"!==typeof t[n]||null===t[n]?e[n]=t[n]:Array.isArray(t[n])?(e[n]=e[n]||[],t[n].forEach(((r,s)=>{"array"===e.type&&"array"===t.type?e[n][s]=merge(e[n][s]||{},r,!0):Array.isArray(e[n])&&-1===e[n].indexOf(r)&&e[n].push(r)}))):"object"!==typeof e[n]||null===e[n]||Array.isArray(e[n])?e[n]=merge({},t[n]):e[n]=merge(e[n],t[n])})),e}function clone(e,t=new Map){if(!e||"object"!==typeof e)return e;if(t.has(e))return t.get(e);if(Array.isArray(e)){const n=[];return t.set(e,n),n.push(...e.map((e=>clone(e,t)))),n}const n={};return t.set(e,n),Object.keys(e).reduce(((n,r)=>(n[r]=clone(e[r],t),n)),n)}function short(e){const t=JSON.stringify(e),n=JSON.stringify(e,null,2);return t.length>400?`${n.substr(0,400)}...`:n}function anyValue(){return random_default.pick([!1,!0,null,-1,NaN,Math.PI,1/0,void 0,[],{},Math.random(),Math.random().toString(36).substr(2)])}function hasValue(e,t){return e.enum?e.enum.includes(t):e.const?e.const===t:void 0}function notValue(e,t){const n=merge({},t);if("undefined"!==typeof e.minimum&&(n.maximum=e.minimum,n.exclusiveMaximum=!0),"undefined"!==typeof e.maximum&&(n.minimum=e.maximum>n.maximum?0:e.maximum,n.exclusiveMinimum=!0),"undefined"!==typeof e.minLength&&(n.maxLength=e.minLength),"undefined"!==typeof e.maxLength&&(n.minLength=e.maxLength>n.maxLength?0:e.maxLength),e.type)n.type=random_default.pick(constants_default.SCALAR_TYPES.filter((t=>(Array.isArray(e.type)?e.type:[e.type]).every((e=>"number"===t||"integer"===t?"number"!==e&&"integer"!==e:t!==e)))));else if(e.enum){let t;do{t=anyValue()}while(-1!==e.enum.indexOf(t));n.enum=[t]}return e.required&&n.properties&&e.required.forEach((e=>{delete n.properties[e]})),n}function validateValueForSchema(e,t){const n=void 0!==t.minimum,r=void 0!==t.maximum;return(n||r)&&(!n||e>=t.minimum)&&(!r||e<=t.maximum)}function validate(e,t){return!t.every((t=>validateValueForSchema(e,t)))}function validateValueForOneOf(e,t){return 1===t.reduce(((t,n)=>t+(validateValueForSchema(e,n)?1:0)),0)}function isKey(e){return["enum","const","default","examples","required","definitions","items","properties"].includes(e)}function omitProps(e,t){return Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>(Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]instanceof Object?merge({},e[n]):e[n],t)),{})}function template(e,t){return Array.isArray(e)?e.map((e=>template(e,t))):("string"===typeof e&&(e=e.replace(/#\{([\w.-]+)\}/g,((e,n)=>t[n]))),e)}function isEmpty(e){return"[object Object]"===Object.prototype.toString.call(e)&&!Object.keys(e).length}function shouldClean(e,t){t=t.items||t;const n=option_default("alwaysFakeOptionals"),r=Array.isArray(t.required)&&t.required.includes(e)||n,s="function"===typeof t.thunk||t.additionalProperties&&"function"===typeof t.additionalProperties.thunk;return!r&&!s}function clean(e,t,n=!1){return e&&"object"===typeof e?Array.isArray(e)?e.map((e=>clean(e,t,!0))).filter((e=>"undefined"!==typeof e)):(Object.keys(e).forEach((n=>{if(isEmpty(e[n]))shouldClean(n,t)&&delete e[n];else{let r=t;t&&t.properties&&t.properties[n]&&(r=t.properties[n]);const s=clean(e[n],r);isEmpty(s)||(e[n]=s)}"undefined"===typeof e[n]&&delete e[n]})),Object.keys(e).length||!n?e:void 0):e}var Container,Container_default,init_utils=__esm({"src/lib/core/utils.mjs"(){init_option(),init_constants(),init_random(),RE_NUMERIC=/^(0|[1-9][0-9]*)$/,utils_default={hasProperties:hasProperties,getLocalRef:getLocalRef,omitProps:omitProps,typecast:typecast,merge:merge,clone:clone,short:short,hasValue:hasValue,notValue:notValue,anyValue:anyValue,validate:validate,validateValueForSchema:validateValueForSchema,validateValueForOneOf:validateValueForOneOf,isKey:isKey,template:template,shouldClean:shouldClean,clean:clean,isEmpty:isEmpty,clampDate:clampDate}}});function proxy(e){return(t,n,r,s)=>{let i=t,a=[];"object"===typeof t&&(i=Object.keys(t)[0],Array.isArray(t[i])?a=t[i]:a.push(t[i]));const o=i.split(".");let l=e();for(;o.length>1;)l=l[o.shift()];return"function"===typeof(t="object"===typeof l?l[o[0]]:l)&&(t=t.apply(l,a.map((e=>utils_default.template(e,s))))),"[object Object]"===Object.prototype.toString.call(t)&&Object.keys(t).forEach((e=>{if("function"===typeof t[e])throw new Error(`Cannot resolve value for '${r}: ${i}', given: ${t}`)})),t}}var registry2,format_default,init_Container=__esm({"src/lib/class/Container.mjs"(){init_utils(),Container_default=Container=class{constructor(){this.registry={},this.support={}}reset(e){e?(delete this.registry[e],delete this.support[e]):(this.registry={},this.support={})}extend(e,t){this.registry[e]=t(this.registry[e]),this.support[e]||(this.support[e]=proxy((()=>this.registry[e])))}define(e,t){this.support[e]=t}get(e){if("undefined"===typeof this.registry[e])throw new ReferenceError(`'${e}' dependency doesn't exist.`);return this.registry[e]}wrap(e){if(!("generate"in e)){const t=Object.keys(e),n={};let r=t.length;for(;r--;){const s=t[r].replace(/^x-/,""),i=this.support[s];if("function"===typeof i){Object.defineProperty(e,"generate",{configurable:!1,enumerable:!1,writable:!1,value:(s,a)=>i.call(n,e[t[r]],e,t[r],s,a.slice())});break}}}return e}}}});function formatAPI(e,t){if("undefined"===typeof e)return registry2.list();if("string"===typeof e)if("function"===typeof t)registry2.register(e,t);else{if(null!==t&&!1!==t)return registry2.get(e);registry2.unregister(e)}else registry2.registerMany(e)}var ParseError,error_default,inferredProperties,subschemaProperties,infer_default,init_format=__esm({"src/lib/api/format.mjs"(){init_Registry(),registry2=new Registry_default,format_default=formatAPI}}),init_error=__esm({"src/lib/core/error.mjs"(){ParseError=class extends Error{constructor(e,t){super(),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="ParseError",this.message=e,this.path=t}},error_default=ParseError}});function matchesType(e,t,n){return Object.keys(e).filter((e=>{const r=subschemaProperties.indexOf(t)>-1;return!(!(n.indexOf(e)>-1)||r)})).length>0}function inferType(e,t){const n=Object.keys(inferredProperties);for(let r=0;r<n.length;r+=1){const s=n[r];if(matchesType(e,t[t.length-1],inferredProperties[s]))return s}}var boolean_default,init_infer=__esm({"src/lib/core/infer.mjs"(){(inferredProperties={array:["additionalItems","items","maxItems","minItems","uniqueItems"],integer:["exclusiveMaximum","exclusiveMinimum","maximum","minimum","multipleOf"],object:["additionalProperties","dependencies","maxProperties","minProperties","patternProperties","properties","required"],string:["maxLength","minLength","pattern","format"]}).number=inferredProperties.integer,subschemaProperties=["additionalItems","items","additionalProperties","dependencies","patternProperties","properties"],infer_default=inferType}});function booleanGenerator(){return option_default("random")()>.5}var booleanType,boolean_default2,null_default,init_boolean=__esm({"src/lib/generators/boolean.mjs"(){init_option(),boolean_default=booleanGenerator}}),init_boolean2=__esm({"src/lib/types/boolean.mjs"(){init_boolean(),boolean_default2=booleanType=boolean_default}});function nullGenerator(){return null}var nullType,null_default2,array_default,init_null=__esm({"src/lib/generators/null.mjs"(){null_default=nullGenerator}}),init_null2=__esm({"src/lib/types/null.mjs"(){init_null(),null_default2=nullType=null_default}});function unique(e,t,n,r,s,i){const a=[],o=[];function l(e){const t=JSON.stringify(e.value);return-1===o.indexOf(t)&&(o.push(t),a.push(e),!0)}t.forEach(l);let u=100;for(;a.length!==t.length&&(l(i(n.items||r,e,s))||(u-=1),u););return a}function arrayType(e,t,n,r){const s=[];if(!e.items&&!e.additionalItems){if(utils_default.hasProperties(e,"minItems","maxItems","uniqueItems")&&(0!==e.minItems||0!==e.maxItems))throw new error_default(`missing items for ${utils_default.short(e)}`,t);return s}if(Array.isArray(e.items))return e.items.map(((e,s)=>{const i=t.concat(["items",s]);return r(e,i,n)}));let i=e.minItems,a=e.maxItems;const o=option_default("minItems"),l=option_default("maxItems");o&&(i="undefined"===typeof i?o:Math.min(o,i)),l&&(a="undefined"===typeof a?l:Math.min(l,a),a&&a>l&&(a=l),i&&i>l&&(i=a));const u=!0===option_default("alwaysFakeOptionals")?1:option_default("optionalsProbability"),c=option_default("alwaysFakeOptionals")||option_default("fixedProbabilities")||!1;let f=random_default.number(i,a,1,5);null!==u&&(f=Math.max(c?Math.round((a||f)*u):Math.abs(random_default.number(i,a)*u),i||0));const p="object"===typeof e.additionalItems?e.additionalItems:{};for(let d=s.length;d<f;d+=1){const i=t.concat(["items",d]),a=r(e.items||p,i,n);s.push(a)}if(e.contains&&f>0){const i=random_default.number(0,f-1);s[i]=r(e.contains,t.concat(["items",i]),n)}return e.uniqueItems?unique(t.concat(["items"]),s,e,p,n,r):s}var number_default,init_array=__esm({"src/lib/types/array.mjs"(){init_random(),init_utils(),init_error(),init_option(),array_default=arrayType}});function numberType(e){let t="undefined"===typeof e.minimum||e.minimum===-Number.MAX_VALUE?constants_default.MIN_INTEGER:e.minimum,n="undefined"===typeof e.maximum||e.maximum===Number.MAX_VALUE?constants_default.MAX_INTEGER:e.maximum;const r=e.multipleOf,s=r&&String(r).match(/e-(\d)|\.(\d+)$/);if(s){const e=(Math.random()*random_default.number(0,10)+1)*r,i=s[1]||s[2].length,a=parseFloat(e.toFixed(i)),o=random_default.number(t,n-1);return String(a).includes(".")?o+a:(o+a).toExponential()}if(r&&(n=Math.floor(n/r)*r,t=Math.ceil(t/r)*r),e.exclusiveMinimum&&t===e.minimum&&(t+=r||1),e.exclusiveMaximum&&n===e.maximum&&(n-=r||1),t>n)return NaN;if(r){let e=random_default.number(Math.floor(t/r),Math.floor(n/r))*r;for(;e<t;)e+=r;return e}return random_default.number(t,n,void 0,void 0,"integer"!==e.type)}var integer_default,init_number=__esm({"src/lib/types/number.mjs"(){init_random(),init_constants(),number_default=numberType}});function integerType(e){return Math.floor(number_default({...e}))}var LIPSUM_WORDS,words_default,init_integer=__esm({"src/lib/types/integer.mjs"(){init_number(),integer_default=integerType}});function wordsGenerator(e){return random_default.shuffle(LIPSUM_WORDS).slice(0,e)}var anyType,object_default,init_words=__esm({"src/lib/generators/words.mjs"(){init_random(),LIPSUM_WORDS="Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore\net dolore magna aliqua Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\ncommodo consequat Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est\nlaborum".split(/\W/),words_default=wordsGenerator}});function objectType(e,t,n,r){const s={},i=e.properties||{},a=e.patternProperties||{},o="boolean"===typeof e.required?[]:(e.required||[]).slice(),l=!1!==e.additionalProperties,u=Object.keys(i),c=Object.keys(a),f=u.concat(c).reduce(((e,t)=>(-1===o.indexOf(t)&&e.push(t),e)),[]),p=o.concat(f),d=l&&!0===e.additionalProperties?anyType:e.additionalProperties;if(!l&&0===u.length&&0===c.length&&utils_default.hasProperties(e,"minProperties","maxProperties","dependencies","required"))return null;if(!0===option_default("requiredOnly"))return o.forEach((e=>{i[e]&&(s[e]=i[e])})),r(s,t.concat(["properties"]),n,e);const m=!0===option_default("alwaysFakeOptionals")?1:option_default("optionalsProbability"),h=option_default("alwaysFakeOptionals")||option_default("fixedProbabilities")||!1,g=option_default("ignoreProperties")||[],y=option_default("reuseProperties"),_=option_default("fillProperties"),b=e.maxProperties||p.length+(l?random_default.number(1,5):0);let v=Math.max(e.minProperties||0,o.length),E=Math.max(0,p.length-v);1!==p.length||o.length||(v=Math.max(random_default.number(_?1:0,b),v)),null!==m&&(E=!0===h?Math.round(v-o.length+m*(p.length-v)):random_default.number(v-o.length,m*(p.length-v)));const O=random_default.shuffle(f).slice(0,E),S=f.filter((e=>-1!==O.indexOf(e))),w=null!==m||o.length===b?b:random_default.number(0,b),A=o.concat(random_default.shuffle(S).slice(0,w)).slice(0,b),x=[],M=[];if(e.dependencies&&(Object.keys(e.dependencies).forEach((t=>{const n=e.dependencies[t];if(-1!==A.indexOf(t))if(Array.isArray(n))n.forEach((e=>{-1===A.indexOf(e)&&A.push(e)}));else if(Array.isArray(n.oneOf||n.anyOf)){const e=n.oneOf||n.anyOf;M.push({prop:t,values:e})}else x.push(n)})),x.length))return delete e.dependencies,r({allOf:x.concat(e)},t.concat(["properties"]),n,e);const T=[],N=[];A.forEach((e=>{if(i[e]&&["{}","true"].includes(JSON.stringify(i[e].not)))return;for(let n=0;n<g.length;n+=1)if(g[n]instanceof RegExp&&g[n].test(e)||"string"===typeof g[n]&&g[n]===e||"function"===typeof g[n]&&g[n](i[e],e))return void T.push(e);let t;if(!1===d&&-1!==o.indexOf(e)&&(s[e]=i[e]),i[e]&&(s[e]=i[e]),c.forEach((n=>{e.match(new RegExp(n))&&(t=!0,s[e]?utils_default.merge(s[e],a[n]):s[random_default.randexp(e)]=a[n])})),!t){const t=a[e]||d;t&&!1!==d?s[a[e]?random_default.randexp(e):e]=i[e]||t:N.push(e)}}));let L=Object.keys(s).length+(_?0:T.length);const P=e=>random_default.randexp("_?[_a-f\\d]{1,3}"+(e?"\\$?":""));function I(e){let t;do{if(!e.length)break;t=e.shift()}while(s[t]);return t}let R=v;if(l&&!o.length&&(R=Math.max(null===m||d?random_default.number(_?1:0,b):0,v)),!S.length&&!E&&l&&!0===h&&_){const e=random_default.number(0,b);for(let t=0;t<e;t+=1)s[words_default(1)+P(e[t])]=d||anyType}for(;_&&(c.length||l)&&!(L>=R);){if(l)if(y&&u.length-L>R){let e,t=0;do{if(t+=1,t>1e3)break;e=I(o)||random_default.pick(u)}while("undefined"!==typeof s[e]);"undefined"===typeof s[e]&&(s[e]=i[e],L+=1)}else if(c.length&&!d){const e=random_default.pick(c),t=random_default.randexp(e);s[t]||(s[t]=a[e],L+=1)}else{const e=I(o)||words_default(1)+P();s[e]||(s[e]=d||anyType,L+=1)}for(let e=0;L<v&&e<c.length;e+=1){const t=c[e],n=random_default.randexp(t);s[n]||(s[n]=a[t],L+=1)}}if(0===o.length&&(!l||!1===m)){const e=random_default.number(v,b);for(;L<e;){const e=I(u);e&&(s[e]=i[e]),L+=1}}let $=s;if(null!==option_default("sortProperties")){const e=Object.keys(i);$=Object.keys(s).sort(((t,n)=>option_default("sortProperties")?t.localeCompare(n):e.indexOf(t)-e.indexOf(n))).reduce(((e,t)=>(e[t]=s[t],e)),{})}const k=r($,t.concat(["properties"]),n,e);return M.forEach((s=>{for(const i of s.values)if(utils_default.hasValue(i.properties[s.prop],k.value[s.prop])){Object.keys(i.properties).forEach((a=>{a!==s.prop&&utils_default.merge(k.value,r(i.properties,t.concat(["properties"]),n,e).value)}));break}})),k}var thunk_default,init_object=__esm({"src/lib/types/object.mjs"(){init_constants(),init_random(),init_words(),init_utils(),init_option(),anyType={type:constants_default.ALLOWED_TYPES},object_default=objectType}});function produce(){const e=random_default.number(1,5);return words_default(e).join(" ")}function thunkGenerator(e=0,t=140){const n=Math.max(0,e),r=random_default.number(n,t);let s=produce();for(;s.length<n;)s+=produce();return s.length>r&&(s=s.substr(0,r)),s}var ipv4_default,init_thunk=__esm({"src/lib/generators/thunk.mjs"(){init_words(),init_random(),thunk_default=thunkGenerator}});function ipv4Generator(){return[0,0,0,0].map((()=>random_default.number(0,255))).join(".")}var dateTime_default,init_ipv4=__esm({"src/lib/generators/ipv4.mjs"(){init_random(),ipv4_default=ipv4Generator}});function dateTimeGenerator(){return random_default.date().toISOString()}var date_default,init_dateTime=__esm({"src/lib/generators/dateTime.mjs"(){init_random(),dateTime_default=dateTimeGenerator}});function dateGenerator(){return dateTime_default().slice(0,10)}var time_default,init_date=__esm({"src/lib/generators/date.mjs"(){init_dateTime(),date_default=dateGenerator}});function timeGenerator(){return dateTime_default().slice(11)}var FRAGMENT,URI_PATTERN,PARAM_PATTERN,regexps,ALLOWED_FORMATS,coreFormat_default,init_time=__esm({"src/lib/generators/time.mjs"(){init_dateTime(),time_default=timeGenerator}});function coreFormatGenerator(e){return random_default.randexp(regexps[e]).replace(ALLOWED_FORMATS,((e,t)=>random_default.randexp(regexps[t])))}var string_default,init_coreFormat=__esm({"src/lib/generators/coreFormat.mjs"(){init_random(),(regexps={email:"[a-zA-Z\\d][a-zA-Z\\d-]{1,13}[a-zA-Z\\d]@{hostname}",hostname:"[a-zA-Z]{1,33}\\.[a-z]{2,4}",ipv6:"[a-f\\d]{4}(:[a-f\\d]{4}){7}",uri:URI_PATTERN=`https?://{hostname}(?:${FRAGMENT="[a-zA-Z][a-zA-Z0-9+-.]*"})+`,slug:"[a-zA-Z\\d_-]+","uri-reference":`${URI_PATTERN}${PARAM_PATTERN="(?:\\?([a-z]{1,7}(=\\w{1,5})?&){0,3})?"}`,"uri-template":URI_PATTERN.replace("(?:","(?:/\\{[a-z][:a-zA-Z0-9-]*\\}|"),"json-pointer":`(/(?:${FRAGMENT.replace("]*","/]*")}|~[01]))+`,uuid:"^[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$",duration:"^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$"}).iri=regexps["uri-reference"],regexps["iri-reference"]=regexps["uri-reference"],regexps["idn-email"]=regexps.email,regexps["idn-hostname"]=regexps.hostname,ALLOWED_FORMATS=new RegExp(`\\{(${Object.keys(regexps).join("|")})\\}`),coreFormat_default=coreFormatGenerator}});function generateFormat(e,t){const n=format_default(e.format);if("function"===typeof n)return n(e);switch(e.format){case"date-time":case"datetime":return dateTime_default();case"date":return date_default();case"time":return time_default();case"ipv4":return ipv4_default();case"regex":return".+?";case"email":case"hostname":case"ipv6":case"uri":case"uri-reference":case"iri":case"iri-reference":case"idn-email":case"idn-hostname":case"json-pointer":case"slug":case"uri-template":case"uuid":case"duration":return coreFormat_default(e.format);default:if("undefined"===typeof n){if(option_default("failOnInvalidFormat"))throw new Error(`unknown registry key ${utils_default.short(e.format)}`);return t()}throw new Error(`unsupported format '${e.format}'`)}}function stringType(e){return utils_default.typecast("string",e,(t=>e.format?generateFormat(e,(()=>thunk_default(t.minLength,t.maxLength))):e.pattern?random_default.randexp(e.pattern):thunk_default(t.minLength,t.maxLength)))}var typeMap,types_default,traverse_default,init_string=__esm({"src/lib/types/string.mjs"(){init_thunk(),init_ipv4(),init_dateTime(),init_date(),init_time(),init_coreFormat(),init_option(),init_format(),init_random(),init_utils(),string_default=stringType}}),init_types=__esm({"src/lib/types/index.mjs"(){init_boolean2(),init_null2(),init_array(),init_integer(),init_number(),init_object(),init_string(),types_default=typeMap={boolean:boolean_default2,null:null_default2,array:array_default,integer:integer_default,number:number_default,object:object_default,string:string_default}}});function getMeta({$comment:e,title:t,description:n}){return Object.entries({comment:e,title:t,description:n}).filter((([,e])=>e)).reduce(((e,[t,n])=>(e[t]=n,e)),{})}function traverse(e,t,n,r){if((e=n(e,null,t))&&(e.oneOf||e.anyOf||e.allOf)&&(e=n(e,null,t)),!e)throw new Error(`Cannot traverse at '${t.join(".")}', given '${JSON.stringify(r)}'`);const s={...getMeta(e),schemaPath:t};if("properties"!==t[t.length-1]){if(option_default("useExamplesValue")&&Array.isArray(e.examples)){const t=e.examples.concat("default"in e?[e.default]:[]);return{value:utils_default.typecast(null,e,(()=>random_default.pick(t))),context:s}}if(option_default("useExamplesValue")&&"undefined"!==typeof e.example)return{value:utils_default.typecast(null,e,(()=>e.example)),context:s};if(option_default("useDefaultValue")&&"default"in e&&(""!==e.default||!option_default("replaceEmptyByRandomValue")))return{value:e.default,context:s};if("template"in e)return{value:utils_default.template(e.template,r),context:s};if("const"in e)return{value:e.const,context:s}}if(e.not&&"object"===typeof e.not&&(e=utils_default.notValue(e.not,utils_default.omitProps(e,["not"]))).type&&"object"===e.type){const{value:i,context:a}=traverse(e,t.concat(["not"]),n,r);return{value:utils_default.clean(i,e,!1),context:{...s,items:a}}}if("function"===typeof e.thunk){const{value:i,context:a}=traverse(e.thunk(r),t,n);return{value:i,context:{...s,items:a}}}if(e.jsonPath)return{value:e,context:s};let i=e.type;if(Array.isArray(i)?i=random_default.pick(i):"undefined"===typeof i&&(i=infer_default(e,t)||i,i&&(e.type=i)),"function"===typeof e.generate){const n=utils_default.typecast(null,e,(()=>e.generate(r,t))),a=null===n?"null":typeof n;if(a===i||"number"===a&&"integer"===i||Array.isArray(n)&&"array"===i)return{value:n,context:s}}if("string"===typeof e.pattern)return{value:utils_default.typecast("string",e,(()=>random_default.randexp(e.pattern))),context:s};if(Array.isArray(e.enum))return{value:utils_default.typecast(null,e,(()=>random_default.pick(e.enum))),context:s};if("string"===typeof i){if(!types_default[i]){if(option_default("failOnInvalidTypes"))throw new error_default(`unknown primitive ${utils_default.short(i)}`,t.concat(["type"]));{const r=option_default("defaultInvalidTypeProduct");return"string"===typeof r&&types_default[r]?{value:types_default[r](e,t,n,traverse),context:s}:{value:r,context:s}}}try{const r=types_default[i](e,t,n,traverse);return"array"===i?{value:r.map((({value:e})=>e)),context:{...s,items:r.map(Array.isArray(e.items)?({context:e})=>e:({context:e})=>({...e,schemaPath:e.schemaPath.slice(0,-1)}))}}:"object"===i?null!==r?{value:r.value,context:{...s,items:r.context}}:{value:{},context:s}:{value:r,context:s}}catch(u){if("undefined"===typeof u.path)throw new error_default(u.stack,t);throw u}}let a={},o={...s};Array.isArray(e)&&(a=[]);const l=option_default("pruneProperties")||[];return Object.keys(e).forEach((r=>{if(!l.includes(r)&&null!==e[r])if("object"===typeof e[r]&&"definitions"!==r){const{value:s,context:i}=traverse(e[r],t.concat([r]),n,a);a[r]=utils_default.clean(s,e[r],!1),o[r]=i,null===a[r]&&option_default("omitNulls")&&(delete a[r],delete o[r])}else a[r]=e[r]})),{value:a,context:o}}var buildResolveSchema,buildResolveSchema_default,run_default,init_traverse=__esm({"src/lib/core/traverse.mjs"(){init_utils(),init_random(),init_error(),init_infer(),init_types(),init_option(),traverse_default=traverse}}),init_buildResolveSchema=__esm({"src/lib/core/buildResolveSchema.mjs"(){init_option(),init_random(),init_utils(),buildResolveSchema_default=buildResolveSchema=({refs:e,schema:t,container:n,synchronous:r,refDepthMax:s,refDepthMin:i})=>{const a={},o={};let l,u,c=0;return a.resolveSchema=(f,p,d)=>{if(null===f||void 0===f)return null;if("function"===typeof f.generate)return f;if("string"===typeof(f.$id||f.id)&&(delete f.id,delete f.$id,delete f.$schema),"string"===typeof f.$ref){const n=Math.max(i,s)-1;if("#"===f.$ref||o[f.$ref]<0||l===f.$ref&&++c>n)return"#"!==f.$ref&&u&&u.length===d.length?utils_default.getLocalRef(t,f.$ref,r&&e):(delete f.$ref,f);let a,p;if("undefined"===typeof o[f.$ref]&&(o[f.$ref]=random_default.number(i,s)-1),u=d,l=f.$ref,a=-1===f.$ref.indexOf("#/")?e[f.$ref]||null:utils_default.getLocalRef(t,f.$ref,r&&e)||null,"undefined"!==typeof a){if(!a&&!0!==option_default("ignoreMissingRefs"))throw new Error(`Reference not found: ${f.$ref}`);o[f.$ref]-=1,utils_default.merge(f,a||{}),p=r&&a&&a.$ref}return p||delete f.$ref,f}if(Array.isArray(f.allOf)){const e=f.allOf;delete f.allOf,e.forEach((e=>{const t=a.resolveSchema(e,null,d);utils_default.merge(f,"function"===typeof t.thunk?t.thunk(f):t),Array.isArray(f.allOf)&&a.resolveSchema(f,p,d)}))}if(Array.isArray(f.oneOf||f.anyOf)&&"dependencies"!==d[d.length-2]){const e=f.oneOf||f.anyOf;return f.enum&&f.oneOf&&(f.enum=f.enum.filter((t=>utils_default.validate(t,e)))),{thunk(t){const n=utils_default.omitProps(f,["anyOf","oneOf"]),r=random_default.pick(e);return utils_default.merge(n,r),e.forEach((e=>{e.required&&e!==r&&e.required.forEach((e=>{const r=n.required&&n.required.includes(e);n.properties&&!r&&delete n.properties[e],t&&t.properties&&delete t.properties[e]}))})),n}}}if(Object.keys(f).forEach((e=>{!Array.isArray(f[e])&&"object"!==typeof f[e]||utils_default.isKey(e)||(f[e]=a.resolveSchema(f[e],e,d.concat(e)))})),d){const e=d[d.length-1];if("properties"===e||"items"===e)return f}return n.wrap(f)},a}}});function pick2(e){return Array.isArray(e)?random_default.pick(e):e}function cycle(e,t){if(!Array.isArray(e))return e;const n=t?e.pop():e.shift();return t?e.unshift(n):e.push(n),n}function resolve(e,t,n,r){if(!e||"object"!==typeof e)return e;if(n||(n={}),t||(t=e),Array.isArray(e))return e.map((e=>resolve(e,t,n,r)));if(e.jsonPath){const{JSONPath:s}=getDependencies(),i="object"!==typeof e.jsonPath?{path:e.jsonPath}:e.jsonPath;i.group=e.group||i.group||r,i.cycle=e.cycle||i.cycle||!1,i.reverse=e.reverse||i.reverse||!1,i.count=e.count||i.count||1;const a=`${i.group}__${i.path}`;return n[a]||(i.count>1?n[a]=s(i.path,t).slice(0,i.count):n[a]=s(i.path,t)),i.cycle||i.reverse?cycle(n[a],i.reverse):pick2(n[a])}return Object.keys(e).forEach((r=>{e[r]=resolve(e[r],t,n,r)})),e}function run(e,t,n,r){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error("Invalid input, expecting object but given "+typeof t);const s=option_default("refDepthMin")||0,i=option_default("refDepthMax")||3;try{const{resolveSchema:a}=buildResolveSchema_default({refs:e,schema:t,container:n,synchronous:r,refDepthMin:s,refDepthMax:i}),o=traverse_default(utils_default.clone(t),[],a);return option_default("resolveJsonPath")?{value:resolve(o.value),context:o.context}:o}catch(a){throw a.path?new Error(`${a.message} in /${a.path.join("/")}`):a}}var js_default,init_run=__esm({"src/lib/core/run.mjs"(){init_vendor(),init_option(),init_traverse(),init_random(),init_utils(),init_buildResolveSchema(),run_default=run}});function renderJS(e){return e.value}var import_types2,binaryOptions,boolOptions,intOptions,nullOptions,strOptions,Schema,Alias,Collection,Merge,Node,Pair,Scalar,YAMLMap,YAMLSeq,yaml_default,init_js=__esm({"src/lib/renderers/js.mjs"(){js_default=renderJS}}),require_PlainValue_ec8e588e=__commonJS({"node_modules/yaml/dist/PlainValue-ec8e588e.js"(e){"use strict";var t={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},n={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"};function r(e){const t=[0];let n=e.indexOf("\n");for(;-1!==n;)n+=1,t.push(n),n=e.indexOf("\n",n);return t}function s(e){let t,n;return"string"===typeof e?(t=r(e),n=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=r(e.context.src)),t=e.lineStarts,n=e.context.src)),{lineStarts:t,src:n}}function i(e,t){if("number"!==typeof e||e<0)return null;const{lineStarts:n,src:r}=s(t);if(!n||!r||e>r.length)return null;for(let s=0;s<n.length;++s){const t=n[s];if(e<t)return{line:s,col:e-n[s-1]+1};if(e===t)return{line:s+1,col:1}}const i=n.length;return{line:i,col:e-n[i-1]+1}}function a({start:e,end:t},n,r=80){let i=function(e,t){const{lineStarts:n,src:r}=s(t);if(!n||!(e>=1)||e>n.length)return null;const i=n[e-1];let a=n[e];for(;a&&a>i&&"\n"===r[a-1];)--a;return r.slice(i,a)}(e.line,n);if(!i)return null;let{col:a}=e;if(i.length>r)if(a<=r-10)i=i.substr(0,r-1)+"\u2026";else{const e=Math.round(r/2);i.length>a+e&&(i=i.substr(0,a+e-1)+"\u2026"),a-=i.length-r,i="\u2026"+i.substr(1-r)}let o=1,l="";t&&(t.line===e.line&&a+(t.col-e.col)<=r+1?o=t.col-e.col:(o=Math.min(i.length+1,r)-a,l="\u2026"));return`${i}\n${a>1?" ".repeat(a-1):""}${"^".repeat(o)}${l}`}var o=class e{static copy(t){return new e(t.start,t.end)}constructor(e,t){this.start=e,this.end=t||e}isEmpty(){return"number"!==typeof this.start||!this.end||this.end<=this.start}setOrigRange(e,t){const{start:n,end:r}=this;if(0===e.length||r<=e[0])return this.origStart=n,this.origEnd=r,t;let s=t;for(;s<e.length&&!(e[s]>n);)++s;this.origStart=n+s;const i=s;for(;s<e.length&&!(e[s]>=r);)++s;return this.origEnd=r+s,i}},l=class e{static addStringTerminator(t,n,r){if("\n"===r[r.length-1])return r;const s=e.endOfWhiteSpace(t,n);return s>=t.length||"\n"===t[s]?r+"\n":r}static atDocumentBoundary(e,n,r){const s=e[n];if(!s)return!0;const i=e[n-1];if(i&&"\n"!==i)return!1;if(r){if(s!==r)return!1}else if(s!==t.DIRECTIVES_END&&s!==t.DOCUMENT_END)return!1;const a=e[n+1],o=e[n+2];if(a!==s||o!==s)return!1;const l=e[n+3];return!l||"\n"===l||"\t"===l||" "===l}static endOfIdentifier(e,t){let n=e[t];const r="<"===n,s=r?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];for(;n&&-1===s.indexOf(n);)n=e[t+=1];return r&&">"===n&&(t+=1),t}static endOfIndent(e,t){let n=e[t];for(;" "===n;)n=e[t+=1];return t}static endOfLine(e,t){let n=e[t];for(;n&&"\n"!==n;)n=e[t+=1];return t}static endOfWhiteSpace(e,t){let n=e[t];for(;"\t"===n||" "===n;)n=e[t+=1];return t}static startOfLine(e,t){let n=e[t-1];if("\n"===n)return t;for(;n&&"\n"!==n;)n=e[t-=1];return t+1}static endOfBlockIndent(t,n,r){const s=e.endOfIndent(t,r);if(s>r+n)return s;{const n=e.endOfWhiteSpace(t,s),r=t[n];if(!r||"\n"===r)return n}return null}static atBlank(e,t,n){const r=e[t];return"\n"===r||"\t"===r||" "===r||n&&!r}static nextNodeIsIndented(e,t,n){return!(!e||t<0)&&(t>0||n&&"-"===e)}static normalizeOffset(t,n){const r=t[n];return r?"\n"!==r&&"\n"===t[n-1]?n-1:e.endOfWhiteSpace(t,n):n}static foldNewline(t,n,r){let s=0,i=!1,a="",o=t[n+1];for(;" "===o||"\t"===o||"\n"===o;){switch(o){case"\n":s=0,n+=1,a+="\n";break;case"\t":s<=r&&(i=!0),n=e.endOfWhiteSpace(t,n+2)-1;break;case" ":s+=1,n+=1}o=t[n+1]}return a||(a=" "),o&&s<=r&&(i=!0),{fold:a,offset:n,error:i}}constructor(e,t,n){Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=t||[],this.type=e,this.value=null}getPropValue(e,t,n){if(!this.context)return null;const{src:r}=this.context,s=this.props[e];return s&&r[s.start]===t?r.slice(s.start+(n?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){const n=this.getPropValue(e,t.ANCHOR,!0);if(null!=n)return n}return null}get comment(){const e=[];for(let n=0;n<this.props.length;++n){const r=this.getPropValue(n,t.COMMENT,!0);null!=r&&e.push(r)}return e.length>0?e.join("\n"):null}commentHasRequiredWhitespace(t){const{src:n}=this.context;if(this.header&&t===this.header.end)return!1;if(!this.valueRange)return!1;const{end:r}=this.valueRange;return t!==r||e.atBlank(n,r-1)}get hasComment(){if(this.context){const{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===t.COMMENT)return!0}return!1}get hasProps(){if(this.context){const{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==t.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return-1!==[n.FLOW_MAP,n.FLOW_SEQ,n.QUOTE_DOUBLE,n.QUOTE_SINGLE].indexOf(this.type)}get rangeAsLinePos(){if(!this.range||!this.context)return;const e=i(this.range.start,this.context.root);if(!e)return;return{start:e,end:i(this.range.end,this.context.root)}}get rawValue(){if(!this.valueRange||!this.context)return null;const{start:e,end:t}=this.valueRange;return this.context.src.slice(e,t)}get tag(){for(let e=0;e<this.props.length;++e){const n=this.getPropValue(e,t.TAG,!1);if(null!=n){if("<"===n[1])return{verbatim:n.slice(2,-1)};{const[e,t,r]=n.match(/^(.*!)([^!]*)$/);return{handle:t,suffix:r}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;const{start:e,end:t}=this.valueRange,{src:n}=this.context;for(let r=e;r<t;++r)if("\n"===n[r])return!0;return!1}parseComment(n){const{src:r}=this.context;if(r[n]===t.COMMENT){const t=e.endOfLine(r,n+1),s=new o(n,t);return this.props.push(s),t}return n}setOrigRanges(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((n=>n.setOrigRange(e,t))),t}toString(){const{context:{src:t},range:n,value:r}=this;if(null!=r)return r;const s=t.slice(n.start,n.end);return e.addStringTerminator(t,n.end,s)}},u=class extends Error{constructor(e,t,n){if(!n||!(t instanceof l))throw new Error(`Invalid arguments for new ${e}`);super(),this.name=e,this.message=n,this.source=t}makePretty(){if(!this.source)return;this.nodeType=this.source.type;const e=this.source.context&&this.source.context.root;if("number"===typeof this.offset){this.range=new o(this.offset,this.offset+1);const t=e&&i(this.offset,e);if(t){const e={line:t.line,col:t.col+1};this.linePos={start:t,end:e}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){const{line:t,col:n}=this.linePos.start;this.message+=` at line ${t}, column ${n}`;const r=e&&a(this.linePos,e);r&&(this.message+=`:\n\n${r}\n`)}delete this.source}},c=class extends u{constructor(e,t){super("YAMLSemanticError",e,t)}};e.Char=t,e.Node=l,e.PlainValue=class e extends l{static endOfLine(e,t,n){let r=e[t],s=t;for(;r&&"\n"!==r&&(!n||"["!==r&&"]"!==r&&"{"!==r&&"}"!==r&&","!==r);){const t=e[s+1];if(":"===r&&(!t||"\n"===t||"\t"===t||" "===t||n&&","===t))break;if((" "===r||"\t"===r)&&"#"===t)break;s+=1,r=t}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:t}=this.valueRange;const{src:n}=this.context;let r=n[t-1];for(;e<t&&("\n"===r||"\t"===r||" "===r);)r=n[--t-1];let s="";for(let a=e;a<t;++a){const e=n[a];if("\n"===e){const{fold:e,offset:t}=l.foldNewline(n,a,-1);s+=e,a=t}else if(" "===e||"\t"===e){const r=a;let i=n[a+1];for(;a<t&&(" "===i||"\t"===i);)a+=1,i=n[a+1];"\n"!==i&&(s+=a>r?n.slice(r,a+1):e)}else s+=e}const i=n[e];switch(i){case"\t":return{errors:[new c(this,"Plain value cannot start with a tab character")],str:s};case"@":case"`":return{errors:[new c(this,`Plain value cannot start with reserved character ${i}`)],str:s};default:return s}}parseBlockValue(t){const{indent:n,inFlow:r,src:s}=this.context;let i=t,a=t;for(let o=s[i];"\n"===o&&!l.atDocumentBoundary(s,i+1);o=s[i]){const t=l.endOfBlockIndent(s,n,i+1);if(null===t||"#"===s[t])break;"\n"===s[t]?i=t:(a=e.endOfLine(s,t,r),i=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=t),this.valueRange.end=a,a}parse(t,n){this.context=t;const{inFlow:r,src:s}=t;let i=n;const a=s[i];return a&&"#"!==a&&"\n"!==a&&(i=e.endOfLine(s,n,r)),this.valueRange=new o(n,i),i=l.endOfWhiteSpace(s,i),i=this.parseComment(i),this.hasComment&&!this.valueRange.isEmpty()||(i=this.parseBlockValue(i)),i}},e.Range=o,e.Type=n,e.YAMLError=u,e.YAMLReferenceError=class extends u{constructor(e,t){super("YAMLReferenceError",e,t)}},e.YAMLSemanticError=c,e.YAMLSyntaxError=class extends u{constructor(e,t){super("YAMLSyntaxError",e,t)}},e.YAMLWarning=class extends u{constructor(e,t){super("YAMLWarning",e,t)}},e._defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.defaultTagPrefix="tag:yaml.org,2002:",e.defaultTags={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"}}}),require_resolveSeq_d03cb037=__commonJS({"node_modules/yaml/dist/resolveSeq-d03cb037.js"(e){"use strict";var t=require_PlainValue_ec8e588e();function n(e,t,n){return n?-1===n.indexOf("\n")?`${e} #${n}`:`${e}\n`+n.replace(/^/gm,`${t||""}#`):e}var r=class{};function s(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>s(e,String(t),n)));if(e&&"function"===typeof e.toJSON){const r=n&&n.anchors&&n.anchors.get(e);r&&(n.onCreate=e=>{r.res=e,delete n.onCreate});const s=e.toJSON(t,n);return r&&n.onCreate&&n.onCreate(s),s}return n&&n.keep||"bigint"!==typeof e?e:Number(e)}var i=class extends r{constructor(e){super(),this.value=e}toJSON(e,t){return t&&t.keep?this.value:s(this.value,e,t)}toString(){return String(this.value)}};function a(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const e=t[s];if(Number.isInteger(e)&&e>=0){const t=[];t[e]=r,r=t}else{const t={};Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=t}}return e.createNode(r,!1)}var o=e=>null==e||"object"===typeof e&&e[Symbol.iterator]().next().done,l=class e extends r{constructor(e){super(),t._defineProperty(this,"items",[]),this.schema=e}addIn(t,n){if(o(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(i instanceof e)i.addIn(s,n);else{if(void 0!==i||!this.schema)throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`);this.set(r,a(this.schema,s,n))}}}deleteIn([t,...n]){if(0===n.length)return this.delete(t);const r=this.get(t,!0);if(r instanceof e)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn([t,...n],r){const s=this.get(t,!0);return 0===n.length?!r&&s instanceof i?s.value:s:s instanceof e?s.getIn(n,r):void 0}hasAllNullValues(){return this.items.every((e=>{if(!e||"PAIR"!==e.type)return!1;const t=e.value;return null==t||t instanceof i&&null==t.value&&!t.commentBefore&&!t.comment&&!t.tag}))}hasIn([t,...n]){if(0===n.length)return this.has(t);const r=this.get(t,!0);return r instanceof e&&r.hasIn(n)}setIn([t,...n],r){if(0===n.length)this.set(t,r);else{const s=this.get(t,!0);if(s instanceof e)s.setIn(n,r);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`);this.set(t,a(this.schema,n,r))}}}toJSON(){return null}toString(r,{blockItem:s,flowChars:i,isMap:a,itemIndent:o},l,u){const{indent:c,indentStep:f,stringify:p}=r,d=this.type===t.Type.FLOW_MAP||this.type===t.Type.FLOW_SEQ||r.inFlow;d&&(o+=f);const m=a&&this.hasAllNullValues();r=Object.assign({},r,{allNullValues:m,indent:o,inFlow:d,type:null});let h=!1,g=!1;const y=this.items.reduce(((e,t,s)=>{let i;t&&(!h&&t.spaceBefore&&e.push({type:"comment",str:""}),t.commentBefore&&t.commentBefore.match(/^.*$/gm).forEach((t=>{e.push({type:"comment",str:`#${t}`})})),t.comment&&(i=t.comment),d&&(!h&&t.spaceBefore||t.commentBefore||t.comment||t.key&&(t.key.commentBefore||t.key.comment)||t.value&&(t.value.commentBefore||t.value.comment))&&(g=!0)),h=!1;let a=p(t,r,(()=>i=null),(()=>h=!0));return d&&!g&&a.includes("\n")&&(g=!0),d&&s<this.items.length-1&&(a+=","),a=n(a,o,i),h&&(i||d)&&(h=!1),e.push({type:"item",str:a}),e}),[]);let _;if(0===y.length)_=i.start+i.end;else if(d){const{start:t,end:n}=i,r=y.map((e=>e.str));if(g||r.reduce(((e,t)=>e+t.length+2),2)>e.maxFlowStringSingleLineLength){_=t;for(const e of r)_+=e?`\n${f}${c}${e}`:"\n";_+=`\n${c}${n}`}else _=`${t} ${r.join(" ")} ${n}`}else{const e=y.map(s);_=e.shift();for(const t of e)_+=t?`\n${c}${t}`:"\n"}return this.comment?(_+="\n"+this.comment.replace(/^/gm,`${c}#`),l&&l()):h&&u&&u(),_}};function u(e){let t=e instanceof i?e.value:e;return t&&"string"===typeof t&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}t._defineProperty(l,"maxFlowStringSingleLineLength",60);var c=class extends l{add(e){this.items.push(e)}delete(e){const t=u(e);if("number"!==typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=u(e);if("number"!==typeof n)return;const r=this.items[n];return!t&&r instanceof i?r.value:r}has(e){const t=u(e);return"number"===typeof t&&t<this.items.length}set(e,t){const n=u(e);if("number"!==typeof n)throw new Error(`Expected a valid index, not ${e}.`);this.items[n]=t}toJSON(e,t){const n=[];t&&t.onCreate&&t.onCreate(n);let r=0;for(const i of this.items)n.push(s(i,String(r++),t));return n}toString(e,t,n){return e?super.toString(e,{blockItem:e=>"comment"===e.type?e.str:`- ${e.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},t,n):JSON.stringify(this)}},f=class e extends r{constructor(t,n=null){super(),this.key=t,this.value=n,this.type=e.Type.PAIR}get commentBefore(){return this.key instanceof r?this.key.commentBefore:void 0}set commentBefore(e){if(null==this.key&&(this.key=new i(null)),!(this.key instanceof r)){throw new Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.")}this.key.commentBefore=e}addToJSMap(e,t){const n=s(this.key,"",e);if(t instanceof Map){const r=s(this.value,n,e);t.set(n,r)}else if(t instanceof Set)t.add(n);else{const i=((e,t,n)=>null===t?"":"object"!==typeof t?String(t):e instanceof r&&n&&n.doc?e.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(t))(this.key,n,e),a=s(this.value,i,e);i in t?Object.defineProperty(t,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):t[i]=a}return t}toJSON(e,t){const n=t&&t.mapAsMap?new Map:{};return this.addToJSMap(t,n)}toString(e,s,a){if(!e||!e.doc)return JSON.stringify(this);const{indent:o,indentSeq:u,simpleKeys:f}=e.doc.options;let{key:p,value:d}=this,m=p instanceof r&&p.comment;if(f){if(m)throw new Error("With simple keys, key nodes cannot have comments");if(p instanceof l){throw new Error("With simple keys, collection cannot be used as a key value")}}let h=!f&&(!p||m||(p instanceof r?p instanceof l||p.type===t.Type.BLOCK_FOLDED||p.type===t.Type.BLOCK_LITERAL:"object"===typeof p));const{doc:g,indent:y,indentStep:_,stringify:b}=e;e=Object.assign({},e,{implicitKey:!h,indent:y+_});let v=!1,E=b(p,e,(()=>m=null),(()=>v=!0));if(E=n(E,e.indent,m),!h&&E.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(e.allNullValues&&!f)return this.comment?(E=n(E,e.indent,this.comment),s&&s()):v&&!m&&a&&a(),e.inFlow&&!h?E:`? ${E}`;E=h?`? ${E}\n${y}:`:`${E}:`,this.comment&&(E=n(E,e.indent,this.comment),s&&s());let O="",S=null;if(d instanceof r){if(d.spaceBefore&&(O="\n"),d.commentBefore){O+=`\n${d.commentBefore.replace(/^/gm,`${e.indent}#`)}`}S=d.comment}else d&&"object"===typeof d&&(d=g.schema.createNode(d,!0));e.implicitKey=!1,!h&&!this.comment&&d instanceof i&&(e.indentAtStart=E.length+1),v=!1,!u&&o>=2&&!e.inFlow&&!h&&d instanceof c&&d.type!==t.Type.FLOW_SEQ&&!d.tag&&!g.anchors.getName(d)&&(e.indent=e.indent.substr(2));const w=b(d,e,(()=>S=null),(()=>v=!0));let A=" ";if(O||this.comment)A=`${O}\n${e.indent}`;else if(!h&&d instanceof l){("["===w[0]||"{"===w[0])&&!w.includes("\n")||(A=`\n${e.indent}`)}else"\n"===w[0]&&(A="");return v&&!S&&a&&a(),n(E+A+w,e.indent,S)}};t._defineProperty(f,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var p=(e,t)=>{if(e instanceof d){const n=t.get(e.source);return n.count*n.aliasCount}if(e instanceof l){let n=0;for(const r of e.items){const e=p(r,t);e>n&&(n=e)}return n}if(e instanceof f){const n=p(e.key,t),r=p(e.value,t);return Math.max(n,r)}return 1},d=class e extends r{static stringify({range:e,source:t},{anchors:n,doc:r,implicitKey:s,inStringifyKey:i}){let a=Object.keys(n).find((e=>n[e]===t));if(!a&&i&&(a=r.anchors.getName(t)||r.anchors.newName()),a)return`*${a}${s?" ":""}`;const o=r.anchors.getName(t)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${o} [${e}]`)}constructor(e){super(),this.source=e,this.type=t.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return s(this.source,e,n);const{anchors:r,maxAliasCount:i}=n,a=r.get(this.source);if(!a||void 0===a.res){const e="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,e):new ReferenceError(e)}if(i>=0&&(a.count+=1,0===a.aliasCount&&(a.aliasCount=p(this.source,r)),a.count*a.aliasCount>i)){const e="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,e):new ReferenceError(e)}return a.res}toString(t){return e.stringify(this,t)}};function m(e,t){const n=t instanceof i?t.value:t;for(const r of e)if(r instanceof f){if(r.key===t||r.key===n)return r;if(r.key&&r.key.value===n)return r}}t._defineProperty(d,"default",!0);var h=class extends l{add(e,t){e?e instanceof f||(e=new f(e.key||e,e.value)):e=new f(e);const n=m(this.items,e.key),r=this.schema&&this.schema.sortMapEntries;if(n){if(!t)throw new Error(`Key ${e.key} already set`);n.value=e.value}else if(r){const t=this.items.findIndex((t=>r(e,t)<0));-1===t?this.items.push(e):this.items.splice(t,0,e)}else this.items.push(e)}delete(e){const t=m(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=m(this.items,e),r=n&&n.value;return!t&&r instanceof i?r.value:r}has(e){return!!m(this.items,e)}set(e,t){this.add(new f(e,t),!0)}toJSON(e,t,n){const r=n?new n:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(r);for(const s of this.items)s.addToJSMap(t,r);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const r of this.items)if(!(r instanceof f))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return super.toString(e,{blockItem:e=>e.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},t,n)}},g=class extends f{constructor(e){if(e instanceof f){let t=e.value;t instanceof c||(t=new c,t.items.push(e.value),t.range=e.value.range),super(e.key,t),this.range=e.range}else super(new i("<<"),new c);this.type=f.Type.MERGE_PAIR}addToJSMap(e,t){for(const{source:n}of this.value.items){if(!(n instanceof h))throw new Error("Merge sources must be maps");const r=n.toJSON(null,e,Map);for(const[e,n]of r)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}return t}toString(e,t){const n=this.value;if(n.items.length>1)return super.toString(e,t);this.value=n.items[0];const r=super.toString(e,t);return this.value=n,r}},y={defaultType:t.Type.BLOCK_LITERAL,lineWidth:76},_={defaultType:t.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function b(e,t,n){for(const{format:r,test:s,resolve:a}of t)if(s){const t=e.match(s);if(t){let e=a.apply(null,t);return e instanceof i||(e=new i(e)),r&&(e.format=r),e}}return n&&(e=n(e)),new i(e)}var v="flow",E="block",O="quoted",S=(e,t)=>{let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t};function w(e,t,n,{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:a,onOverflow:o}){if(!s||s<0)return e;const l=Math.max(1+i,1+s-t.length);if(e.length<=l)return e;const u=[],c={};let f,p,d=s-t.length;"number"===typeof r&&(r>s-Math.max(2,i)?u.push(0):d=s-r);let m=!1,h=-1,g=-1,y=-1;n===E&&(h=S(e,h),-1!==h&&(d=h+l));for(let b;b=e[h+=1];){if(n===O&&"\\"===b){switch(g=h,e[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}y=h}if("\n"===b)n===E&&(h=S(e,h)),d=h+l,f=void 0;else{if(" "===b&&p&&" "!==p&&"\n"!==p&&"\t"!==p){const t=e[h+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=h)}if(h>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===O){for(;" "===p||"\t"===p;)p=b,b=e[h+=1],m=!0;const t=h>y+1?h-2:g-1;if(c[t])return e;u.push(t),c[t]=!0,d=t+l,f=void 0}else m=!0}p=b}if(m&&o&&o(),0===u.length)return e;a&&a();let _=e.slice(0,u[0]);for(let b=0;b<u.length;++b){const r=u[b],s=u[b+1]||e.length;0===r?_=`\n${t}${e.slice(0,s)}`:(n===O&&c[r]&&(_+=`${e[r]}\\`),_+=`\n${t}${e.slice(r+1,s)}`)}return _}var A=({indentAtStart:e})=>e?Object.assign({indentAtStart:e},_.fold):_.fold,x=e=>/^(%|---|\.\.\.)/m.test(e);function M(e,t){const{implicitKey:n}=t,{jsonEncoding:r,minMultiLineLength:s}=_.doubleQuoted,i=JSON.stringify(e);if(r)return i;const a=t.indent||(x(e)?"  ":"");let o="",l=0;for(let u=0,c=i[u];c;c=i[++u])if(" "===c&&"\\"===i[u+1]&&"n"===i[u+2]&&(o+=i.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),"\\"===c)switch(i[u+1]){case"u":{o+=i.slice(l,u);const e=i.substr(u+2,4);switch(e){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:"00"===e.substr(0,2)?o+="\\x"+e.substr(2):o+=i.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||'"'===i[u+2]||i.length<s)u+=1;else{for(o+=i.slice(l,u)+"\n\n";"\\"===i[u+2]&&"n"===i[u+3]&&'"'!==i[u+4];)o+="\n",u+=2;o+=a," "===i[u+2]&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+i.slice(l):i,n?o:w(o,a,O,A(t))}function T(e,t){if(t.implicitKey){if(/\n/.test(e))return M(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return M(e,t);const n=t.indent||(x(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:w(r,n,v,A(t))}function N({comment:e,type:n,value:r},s,i,a){if(/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return M(r,s);const o=s.indent||(s.forceBlockIndent||x(r)?"  ":""),l=o?"2":"1",u=n!==t.Type.BLOCK_FOLDED&&(n===t.Type.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,a=0;i<s;++i)if("\n"===e[i]){if(i-a>r)return!0;if(a=i+1,s-a<=r)return!1}return!0}(r,_.fold.lineWidth,o.length));let c=u?"|":">";if(!r)return c+"\n";let f="",p="";if(r=r.replace(/[\n\t ]*$/,(e=>{const t=e.indexOf("\n");return-1===t?c+="-":r!==e&&t===e.length-1||(c+="+",a&&a()),p=e.replace(/\n$/,""),""})).replace(/^[\n ]*/,(e=>{-1!==e.indexOf(" ")&&(c+=l);const t=e.match(/ +$/);return t?(f=e.slice(0,-t[0].length),t[0]):(f=e,"")})),p&&(p=p.replace(/\n+(?!\n|$)/g,`$&${o}`)),f&&(f=f.replace(/\n+/g,`$&${o}`)),e&&(c+=" #"+e.replace(/ ?[\r\n]+/g," "),i&&i()),!r)return`${c}${l}\n${o}${p}`;if(u)return r=r.replace(/\n+/g,`$&${o}`),`${c}\n${o}${f}${r}${p}`;r=r.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);const d=w(`${f}${r}${p}`,o,E,_.fold);return`${c}\n${o}${d}`}function L(e,n){let r,s,i;switch(n.type){case t.Type.FLOW_MAP:r="}",s="flow map";break;case t.Type.FLOW_SEQ:r="]",s="flow sequence";break;default:return void e.push(new t.YAMLSemanticError(n,"Not a flow collection!?"))}for(let a=n.items.length-1;a>=0;--a){const e=n.items[a];if(!e||e.type!==t.Type.COMMENT){i=e;break}}if(i&&i.char!==r){const a=`Expected ${s} to end with ${r}`;let o;"number"===typeof i.offset?(o=new t.YAMLSemanticError(n,a),o.offset=i.offset+1):(o=new t.YAMLSemanticError(i,a),i.range&&i.range.end&&(o.offset=i.range.end-i.range.start)),e.push(o)}}function P(e,n){const r=n.context.src[n.range.start-1];if("\n"!==r&&"\t"!==r&&" "!==r){const r="Comments must be separated from other tokens by white space characters";e.push(new t.YAMLSemanticError(n,r))}}function I(e,n){const r=String(n),s=r.substr(0,8)+"..."+r.substr(-8);return new t.YAMLSemanticError(e,`The "${s}" key is too long`)}function R(e,t){for(const{afterKey:n,before:r,comment:s}of t){let t=e.items[r];t?(n&&t.value&&(t=t.value),void 0===s?!n&&t.commentBefore||(t.spaceBefore=!0):t.commentBefore?t.commentBefore+="\n"+s:t.commentBefore=s):void 0!==s&&(e.comment?e.comment+="\n"+s:e.comment=s)}}function $(e,t){const n=t.strValue;return n?"string"===typeof n?n:(n.errors.forEach((n=>{n.source||(n.source=t),e.errors.push(n)})),n.str):""}function k(e,n){const{tag:r,type:s}=n;let i=!1;if(r){const{handle:s,suffix:o,verbatim:l}=r;if(l){if("!"!==l&&"!!"!==l)return l;const r=`Verbatim tags aren't resolved, so ${l} is invalid.`;e.errors.push(new t.YAMLSemanticError(n,r))}else if("!"!==s||o)try{return function(e,n){const{handle:r,suffix:s}=n.tag;let i=e.tagPrefixes.find((e=>e.handle===r));if(!i){const s=e.getDefaults().tagPrefixes;if(s&&(i=s.find((e=>e.handle===r))),!i)throw new t.YAMLSemanticError(n,`The ${r} tag handle is non-default and was not declared.`)}if(!s)throw new t.YAMLSemanticError(n,`The ${r} tag has no suffix.`);if("!"===r&&"1.0"===(e.version||e.options.version)){if("^"===s[0])return e.warnings.push(new t.YAMLWarning(n,"YAML 1.0 ^ tag expansion is not supported")),s;if(/[:/]/.test(s)){const e=s.match(/^([a-z0-9-]+)\/(.*)/i);return e?`tag:${e[1]}.yaml.org,2002:${e[2]}`:`tag:${s}`}}return i.prefix+decodeURIComponent(s)}(e,n)}catch(a){e.errors.push(a)}else i=!0}switch(s){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:case t.Type.QUOTE_DOUBLE:case t.Type.QUOTE_SINGLE:return t.defaultTags.STR;case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;case t.Type.PLAIN:return i?t.defaultTags.STR:null;default:return null}}function j(e,t,n){const{tags:r}=e.schema,s=[];for(const o of r)if(o.tag===n){if(!o.test){const n=o.resolve(e,t);return n instanceof l?n:new i(n)}s.push(o)}const a=$(e,t);return"string"===typeof a&&s.length>0?b(a,s,r.scalarFallback):null}function C(e,n,r){try{const t=j(e,n,r);if(t)return r&&n.tag&&(t.tag=r),t}catch(s){return s.source||(s.source=n),e.errors.push(s),null}try{const s=function({type:e}){switch(e){case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;default:return t.defaultTags.STR}}(n);if(!s)throw new Error(`The tag ${r} is unavailable`);const i=`The tag ${r} is unavailable, falling back to ${s}`;e.warnings.push(new t.YAMLWarning(n,i));const a=j(e,n,s);return a.tag=r,a}catch(s){const r=new t.YAMLReferenceError(n,s.message);return r.stack=s.stack,e.errors.push(r),null}}function D(e,n){const r={before:[],after:[]};let s=!1,i=!1;const a=(e=>{if(!e)return!1;const{type:n}=e;return n===t.Type.MAP_KEY||n===t.Type.MAP_VALUE||n===t.Type.SEQ_ITEM})(n.context.parent)?n.context.parent.props.concat(n.props):n.props;for(const{start:o,end:l}of a)switch(n.context.src[o]){case t.Char.COMMENT:{if(!n.commentHasRequiredWhitespace(o)){const r="Comments must be separated from other tokens by white space characters";e.push(new t.YAMLSemanticError(n,r))}const{header:s,valueRange:i}=n;(i&&(o>i.start||s&&o>s.start)?r.after:r.before).push(n.context.src.slice(o+1,l));break}case t.Char.ANCHOR:if(s){const r="A node can have at most one anchor";e.push(new t.YAMLSemanticError(n,r))}s=!0;break;case t.Char.TAG:if(i){const r="A node can have at most one tag";e.push(new t.YAMLSemanticError(n,r))}i=!0}return{comments:r,hasAnchor:s,hasTag:i}}function Y(e,n){if(!n)return null;n.error&&e.errors.push(n.error);const{comments:r,hasAnchor:s,hasTag:i}=D(e.errors,n);if(s){const{anchors:t}=e,r=n.anchor,s=t.getNode(r);s&&(t.map[t.newName(r)]=s),t.map[r]=n}if(n.type===t.Type.ALIAS&&(s||i)){const r="An alias node must not specify any properties";e.errors.push(new t.YAMLSemanticError(n,r))}const a=function(e,n){const{anchors:r,errors:s,schema:i}=e;if(n.type===t.Type.ALIAS){const e=n.rawValue,i=r.getNode(e);if(!i){const r=`Aliased anchor not found: ${e}`;return s.push(new t.YAMLReferenceError(n,r)),null}const a=new d(i);return r._cstAliases.push(a),a}const a=k(e,n);if(a)return C(e,n,a);if(n.type!==t.Type.PLAIN){const e=`Failed to resolve ${n.type} node here`;return s.push(new t.YAMLSyntaxError(n,e)),null}try{return b($(e,n),i.tags,i.tags.scalarFallback)}catch(o){return o.source||(o.source=n),s.push(o),null}}(e,n);if(a){a.range=[n.range.start,n.range.end],e.options.keepCstNodes&&(a.cstNode=n),e.options.keepNodeTypes&&(a.type=n.type);const t=r.before.join("\n");t&&(a.commentBefore=a.commentBefore?`${a.commentBefore}\n${t}`:t);const s=r.after.join("\n");s&&(a.comment=a.comment?`${a.comment}\n${s}`:s)}return n.resolved=a}function F(e,n){if(!(({context:{lineStart:e,node:n,src:r},props:s})=>{if(0===s.length)return!1;const{start:i}=s[0];if(n&&i>n.valueRange.start)return!1;if(r[i]!==t.Char.COMMENT)return!1;for(let t=e;t<i;++t)if("\n"===r[t])return!1;return!0})(e))return;const r=e.getPropValue(0,t.Char.COMMENT,!0);let s=!1;const i=n.value.commentBefore;if(i&&i.startsWith(r))n.value.commentBefore=i.substr(r.length+1),s=!0;else{const t=n.value.comment;!e.node&&t&&t.startsWith(r)&&(n.value.comment=t.substr(r.length+1),s=!0)}s&&(n.comment=r)}e.Alias=d,e.Collection=l,e.Merge=g,e.Node=r,e.Pair=f,e.Scalar=i,e.YAMLMap=h,e.YAMLSeq=c,e.addComment=n,e.binaryOptions=y,e.boolOptions={trueStr:"true",falseStr:"false"},e.findPair=m,e.intOptions={asBigInt:!1},e.isEmptyPath=o,e.nullOptions={nullStr:"null"},e.resolveMap=function(e,n){if(n.type!==t.Type.MAP&&n.type!==t.Type.FLOW_MAP){const r=`A ${n.type} node cannot be resolved as a mapping`;return e.errors.push(new t.YAMLSyntaxError(n,r)),null}const{comments:r,items:s}=n.type===t.Type.FLOW_MAP?function(e,n){const r=[],s=[];let i,a=!1,o="{";for(let l=0;l<n.items.length;++l){const u=n.items[l];if("string"===typeof u.char){const{char:r,offset:c}=u;if("?"===r&&void 0===i&&!a){a=!0,o=":";continue}if(":"===r){if(void 0===i&&(i=null),":"===o){o=",";continue}}else if(a&&(void 0===i&&","!==r&&(i=null),a=!1),void 0!==i&&(s.push(new f(i)),i=void 0,","===r)){o=":";continue}if("}"===r){if(l===n.items.length-1)continue}else if(r===o){o=":";continue}const p=`Flow map contains an unexpected ${r}`,d=new t.YAMLSyntaxError(n,p);d.offset=c,e.errors.push(d)}else u.type===t.Type.BLANK_LINE?r.push({afterKey:!!i,before:s.length}):u.type===t.Type.COMMENT?(P(e.errors,u),r.push({afterKey:!!i,before:s.length,comment:u.comment})):void 0===i?(","===o&&e.errors.push(new t.YAMLSemanticError(u,"Separator , missing in flow map")),i=Y(e,u)):(","!==o&&e.errors.push(new t.YAMLSemanticError(u,"Indicator : missing in flow map entry")),s.push(new f(i,Y(e,u))),i=void 0,a=!1)}L(e.errors,n),void 0!==i&&s.push(new f(i));return{comments:r,items:s}}(e,n):function(e,n){const r=[],s=[];let i,a=null;for(let o=0;o<n.items.length;++o){const l=n.items[o];switch(l.type){case t.Type.BLANK_LINE:r.push({afterKey:!!i,before:s.length});break;case t.Type.COMMENT:r.push({afterKey:!!i,before:s.length,comment:l.comment});break;case t.Type.MAP_KEY:void 0!==i&&s.push(new f(i)),l.error&&e.errors.push(l.error),i=Y(e,l.node),a=null;break;case t.Type.MAP_VALUE:{if(void 0===i&&(i=null),l.error&&e.errors.push(l.error),!l.context.atLineStart&&l.node&&l.node.type===t.Type.MAP&&!l.node.context.atLineStart){const n="Nested mappings are not allowed in compact mappings";e.errors.push(new t.YAMLSemanticError(l.node,n))}let r=l.node;if(!r&&l.props.length>0){r=new t.PlainValue(t.Type.PLAIN,[]),r.context={parent:l,src:l.context.src};const e=l.range.start+1;if(r.range={start:e,end:e},r.valueRange={start:e,end:e},"number"===typeof l.range.origStart){const e=l.range.origStart+1;r.range.origStart=r.range.origEnd=e,r.valueRange.origStart=r.valueRange.origEnd=e}}const o=new f(i,Y(e,r));F(l,o),s.push(o),i&&"number"===typeof a&&l.range.start>a+1024&&e.errors.push(I(n,i)),i=void 0,a=null}break;default:void 0!==i&&s.push(new f(i)),i=Y(e,l),a=l.range.start,l.error&&e.errors.push(l.error);e:for(let r=o+1;;++r){const s=n.items[r];switch(s&&s.type){case t.Type.BLANK_LINE:case t.Type.COMMENT:continue e;case t.Type.MAP_VALUE:break e;default:{const n="Implicit map keys need to be followed by map values";e.errors.push(new t.YAMLSemanticError(l,n));break e}}}if(l.valueRangeContainsNewline){const n="Implicit map keys need to be on a single line";e.errors.push(new t.YAMLSemanticError(l,n))}}}void 0!==i&&s.push(new f(i));return{comments:r,items:s}}(e,n),i=new h;i.items=s,R(i,r);let a=!1;for(let o=0;o<s.length;++o){const{key:r}=s[o];if(r instanceof l&&(a=!0),e.schema.merge&&r&&"<<"===r.value){s[o]=new g(s[o]);const r=s[o].value.items;let i=null;r.some((e=>{if(e instanceof d){const{type:n}=e.source;return n!==t.Type.MAP&&n!==t.Type.FLOW_MAP&&(i="Merge nodes aliases can only point to maps")}return i="Merge nodes can only have Alias nodes as values"})),i&&e.errors.push(new t.YAMLSemanticError(n,i))}else for(let i=o+1;i<s.length;++i){const{key:a}=s[i];if(r===a||r&&a&&Object.prototype.hasOwnProperty.call(r,"value")&&r.value===a.value){const s=`Map keys must be unique; "${r}" is repeated`;e.errors.push(new t.YAMLSemanticError(n,s));break}}}if(a&&!e.options.mapAsMap){const r="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";e.warnings.push(new t.YAMLWarning(n,r))}return n.resolved=i,i},e.resolveNode=Y,e.resolveSeq=function(e,n){if(n.type!==t.Type.SEQ&&n.type!==t.Type.FLOW_SEQ){const r=`A ${n.type} node cannot be resolved as a sequence`;return e.errors.push(new t.YAMLSyntaxError(n,r)),null}const{comments:r,items:s}=n.type===t.Type.FLOW_SEQ?function(e,n){const r=[],s=[];let i,a=!1,o=null,l="[",u=null;for(let c=0;c<n.items.length;++c){const p=n.items[c];if("string"===typeof p.char){const{char:r,offset:d}=p;if(":"===r||!a&&void 0===i||(a&&void 0===i&&(i=l?s.pop():null),s.push(new f(i)),a=!1,i=void 0,o=null),r===l)l=null;else if(l||"?"!==r){if("["!==l&&":"===r&&void 0===i){if(","===l){if(i=s.pop(),i instanceof f){const r="Chaining flow sequence pairs is invalid",s=new t.YAMLSemanticError(n,r);s.offset=d,e.errors.push(s)}if(!a&&"number"===typeof o){const r=p.range?p.range.start:p.offset;r>o+1024&&e.errors.push(I(n,i));const{src:s}=u.context;for(let n=o;n<r;++n)if("\n"===s[n]){const n="Implicit keys of flow sequence pairs need to be on a single line";e.errors.push(new t.YAMLSemanticError(u,n));break}}}else i=null;o=null,a=!1,l=null}else if("["===l||"]"!==r||c<n.items.length-1){const s=`Flow sequence contains an unexpected ${r}`,i=new t.YAMLSyntaxError(n,s);i.offset=d,e.errors.push(i)}}else a=!0}else if(p.type===t.Type.BLANK_LINE)r.push({before:s.length});else if(p.type===t.Type.COMMENT)P(e.errors,p),r.push({comment:p.comment,before:s.length});else{if(l){const n=`Expected a ${l} in flow sequence`;e.errors.push(new t.YAMLSemanticError(p,n))}const n=Y(e,p);void 0===i?(s.push(n),u=p):(s.push(new f(i,n)),i=void 0),o=p.range.start,l=","}}L(e.errors,n),void 0!==i&&s.push(new f(i));return{comments:r,items:s}}(e,n):function(e,n){const r=[],s=[];for(let i=0;i<n.items.length;++i){const a=n.items[i];switch(a.type){case t.Type.BLANK_LINE:r.push({before:s.length});break;case t.Type.COMMENT:r.push({comment:a.comment,before:s.length});break;case t.Type.SEQ_ITEM:if(a.error&&e.errors.push(a.error),s.push(Y(e,a.node)),a.hasProps){const n="Sequence items cannot have tags or anchors before the - indicator";e.errors.push(new t.YAMLSemanticError(a,n))}break;default:a.error&&e.errors.push(a.error),e.errors.push(new t.YAMLSyntaxError(a,`Unexpected ${a.type} node in sequence`))}}return{comments:r,items:s}}(e,n),i=new c;if(i.items=s,R(i,r),!e.options.mapAsMap&&s.some((e=>e instanceof f&&e.key instanceof l))){const r="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";e.warnings.push(new t.YAMLWarning(n,r))}return n.resolved=i,i},e.resolveString=$,e.strOptions=_,e.stringifyNumber=function({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"===typeof r)return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(s)){let e=s.indexOf(".");e<0&&(e=s.length,s+=".");let n=t-(s.length-e-1);for(;n-- >0;)s+="0"}return s},e.stringifyString=function(e,n,r,s){const{defaultType:i}=_,{implicitKey:a,inFlow:o}=n;let{type:l,value:u}=e;"string"!==typeof u&&(u=String(u),e=Object.assign({},e,{value:u}));const c=i=>{switch(i){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return N(e,n,r,s);case t.Type.QUOTE_DOUBLE:return M(u,n);case t.Type.QUOTE_SINGLE:return T(u,n);case t.Type.PLAIN:return function(e,n,r,s){const{comment:i,type:a,value:o}=e,{actualString:l,implicitKey:u,indent:c,inFlow:f}=n;if(u&&/[\n[\]{},]/.test(o)||f&&/[[\]{},]/.test(o))return M(o,n);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return u||f||-1===o.indexOf("\n")?-1!==o.indexOf('"')&&-1===o.indexOf("'")?T(o,n):M(o,n):N(e,n,r,s);if(!u&&!f&&a!==t.Type.PLAIN&&-1!==o.indexOf("\n"))return N(e,n,r,s);if(""===c&&x(o))return n.forceBlockIndent=!0,N(e,n,r,s);const p=o.replace(/\n+/g,`$&\n${c}`);if(l){const{tags:e}=n.doc.schema;if("string"!==typeof b(p,e,e.scalarFallback).value)return M(o,n)}const d=u?p:w(p,c,v,A(n));return!i||f||-1===d.indexOf("\n")&&-1===i.indexOf("\n")?d:(r&&r(),function(e,t,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${t}#`)}\n${t}${e}`:e}(d,c,i))}(e,n,r,s);default:return null}};l!==t.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(u)?l=t.Type.QUOTE_DOUBLE:!a&&!o||l!==t.Type.BLOCK_FOLDED&&l!==t.Type.BLOCK_LITERAL||(l=t.Type.QUOTE_DOUBLE);let f=c(l);if(null===f&&(f=c(i),null===f))throw new Error(`Unsupported default string type ${i}`);return f},e.toJSON=s}}),require_warnings_1000a372=__commonJS({"node_modules/yaml/dist/warnings-1000a372.js"(e){"use strict";var t=require_PlainValue_ec8e588e(),n=require_resolveSeq_d03cb037(),r={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(e,r)=>{const s=n.resolveString(e,r);if("function"===typeof Buffer)return Buffer.from(s,"base64");if("function"===typeof atob){const e=atob(s.replace(/[\n\r]/g,"")),t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}{const n="This environment does not support reading binary tags; either Buffer or atob is required";return e.errors.push(new t.YAMLReferenceError(r,n)),null}},options:n.binaryOptions,stringify:({comment:e,type:r,value:s},i,a,o)=>{let l;if("function"===typeof Buffer)l=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!==typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<s.length;++t)e+=String.fromCharCode(s[t]);l=btoa(e)}}if(r||(r=n.binaryOptions.defaultType),r===t.Type.QUOTE_DOUBLE)s=l;else{const{lineWidth:e}=n.binaryOptions,i=Math.ceil(l.length/e),a=new Array(i);for(let t=0,n=0;t<i;++t,n+=e)a[t]=l.substr(n,e);s=a.join(r===t.Type.BLOCK_LITERAL?"\n":" ")}return n.stringifyString({comment:e,type:r,value:s},i,a,o)}};function s(e,r){const s=n.resolveSeq(e,r);for(let i=0;i<s.items.length;++i){let e=s.items[i];if(!(e instanceof n.Pair)){if(e instanceof n.YAMLMap){if(e.items.length>1){const e="Each pair must have its own sequence indicator";throw new t.YAMLSemanticError(r,e)}const s=e.items[0]||new n.Pair;e.commentBefore&&(s.commentBefore=s.commentBefore?`${e.commentBefore}\n${s.commentBefore}`:e.commentBefore),e.comment&&(s.comment=s.comment?`${e.comment}\n${s.comment}`:e.comment),e=s}s.items[i]=e instanceof n.Pair?e:new n.Pair(e)}}return s}function i(e,t,r){const s=new n.YAMLSeq(e);s.tag="tag:yaml.org,2002:pairs";for(const n of t){let t,i;if(Array.isArray(n)){if(2!==n.length)throw new TypeError(`Expected [key, value] tuple: ${n}`);t=n[0],i=n[1]}else if(n&&n instanceof Object){const e=Object.keys(n);if(1!==e.length)throw new TypeError(`Expected { key: value } tuple: ${n}`);t=e[0],i=n[t]}else t=n;const a=e.createPair(t,i,r);s.items.push(a)}return s}var a={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:s,createNode:i},o=class e extends n.YAMLSeq{constructor(){super(),t._defineProperty(this,"add",n.YAMLMap.prototype.add.bind(this)),t._defineProperty(this,"delete",n.YAMLMap.prototype.delete.bind(this)),t._defineProperty(this,"get",n.YAMLMap.prototype.get.bind(this)),t._defineProperty(this,"has",n.YAMLMap.prototype.has.bind(this)),t._defineProperty(this,"set",n.YAMLMap.prototype.set.bind(this)),this.tag=e.tag}toJSON(e,t){const r=new Map;t&&t.onCreate&&t.onCreate(r);for(const s of this.items){let e,i;if(s instanceof n.Pair?(e=n.toJSON(s.key,"",t),i=n.toJSON(s.value,e,t)):e=n.toJSON(s,"",t),r.has(e))throw new Error("Ordered maps must not include duplicate keys");r.set(e,i)}return r}};t._defineProperty(o,"tag","tag:yaml.org,2002:omap");var l={identify:e=>e instanceof Map,nodeClass:o,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,r){const i=s(e,r),a=[];for(const{key:s}of i.items)if(s instanceof n.Scalar){if(a.includes(s.value)){const e="Ordered maps must not include duplicate keys";throw new t.YAMLSemanticError(r,e)}a.push(s.value)}return Object.assign(new o,i)},createNode:function(e,t,n){const r=i(e,t,n),s=new o;return s.items=r.items,s}},u=class e extends n.YAMLMap{constructor(){super(),this.tag=e.tag}add(e){const t=e instanceof n.Pair?e:new n.Pair(e);n.findPair(this.items,t.key)||this.items.push(t)}get(e,t){const r=n.findPair(this.items,e);return!t&&r instanceof n.Pair?r.key instanceof n.Scalar?r.key.value:r.key:r}set(e,t){if("boolean"!==typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const r=n.findPair(this.items,e);r&&!t?this.items.splice(this.items.indexOf(r),1):!r&&t&&this.items.push(new n.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,t,n);throw new Error("Set items must all have null values")}};t._defineProperty(u,"tag","tag:yaml.org,2002:set");var c={identify:e=>e instanceof Set,nodeClass:u,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,r){const s=n.resolveMap(e,r);if(!s.hasAllNullValues())throw new t.YAMLSemanticError(r,"Set items must all have null values");return Object.assign(new u,s)},createNode:function(e,t,n){const r=new u;for(const s of t)r.items.push(e.createPair(s,null,n));return r}},f=(e,t)=>{const n=t.split(":").reduce(((e,t)=>60*e+Number(t)),0);return"-"===e?-n:n},p=({value:e})=>{if(isNaN(e)||!isFinite(e))return n.stringifyNumber(e);let t="";e<0&&(t="-",e=Math.abs(e));const r=[e%60];return e<60?r.unshift(0):(e=Math.round((e-r[0])/60),r.unshift(e%60),e>=60&&(e=Math.round((e-r[0])/60),r.unshift(e))),t+r.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")},d={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(e,t,n)=>f(t,n.replace(/_/g,"")),stringify:p},m={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(e,t,n)=>f(t,n.replace(/_/g,"")),stringify:p},h={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(e,t,n,r,s,i,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(t,n-1,r,s||0,i||0,a||0,o||0);if(l&&"Z"!==l){let e=f(l[0],l.slice(1));Math.abs(e)<30&&(e*=60),u-=6e4*e}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function g(e){const t="undefined"!==typeof process&&process.env||{};return e?"undefined"!==typeof YAML_SILENCE_DEPRECATION_WARNINGS?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:"undefined"!==typeof YAML_SILENCE_WARNINGS?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function y(e,t){if(g(!1)){const n="undefined"!==typeof process&&process.emitWarning;n?n(e,t):console.warn(t?`${t}: ${e}`:e)}}var _={};e.binary=r,e.floatTime=m,e.intTime=d,e.omap=l,e.pairs=a,e.set=c,e.timestamp=h,e.warn=y,e.warnFileDeprecation=function(e){if(g(!0)){y(`The endpoint 'yaml/${e.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/")}' will be removed in a future release.`,"DeprecationWarning")}},e.warnOptionDeprecation=function(e,t){if(!_[e]&&g(!0)){_[e]=!0;let n=`The option '${e}' will be removed in a future release`;n+=t?`, use '${t}' instead.`:".",y(n,"DeprecationWarning")}}}}),require_Schema_88e323a7=__commonJS({"node_modules/yaml/dist/Schema-88e323a7.js"(e){"use strict";var t=require_PlainValue_ec8e588e(),n=require_resolveSeq_d03cb037(),r=require_warnings_1000a372();var s={createNode:function(e,t,r){const s=new n.YAMLMap(e);if(t instanceof Map)for(const[n,i]of t)s.items.push(e.createPair(n,i,r));else if(t&&"object"===typeof t)for(const n of Object.keys(t))s.items.push(e.createPair(n,t[n],r));return"function"===typeof e.sortMapEntries&&s.items.sort(e.sortMapEntries),s},default:!0,nodeClass:n.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:n.resolveMap};var i={createNode:function(e,t,r){const s=new n.YAMLSeq(e);if(t&&t[Symbol.iterator])for(const n of t){const t=e.createNode(n,r.wrapScalars,null,r);s.items.push(t)}return s},default:!0,nodeClass:n.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:n.resolveSeq},a={identify:e=>"string"===typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify:(e,t,r,s)=>(t=Object.assign({actualString:!0},t),n.stringifyString(e,t,r,s)),options:n.strOptions},o=[s,i,a],l=e=>"bigint"===typeof e||Number.isInteger(e),u=(e,t,r)=>n.intOptions.asBigInt?BigInt(e):parseInt(t,r);function c(e,t,r){const{value:s}=e;return l(s)&&s>=0?r+s.toString(t):n.stringifyNumber(e)}var f={identify:e=>null==e,createNode:(e,t,r)=>r.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},p={identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>"t"===e[0]||"T"===e[0],options:n.boolOptions,stringify:({value:e})=>e?n.boolOptions.trueStr:n.boolOptions.falseStr},d={identify:e=>l(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(e,t)=>u(e,t,8),options:n.intOptions,stringify:e=>c(e,8,"0o")},m={identify:l,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:e=>u(e,e,10),options:n.intOptions,stringify:n.stringifyNumber},h={identify:e=>l(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(e,t)=>u(e,t,16),options:n.intOptions,stringify:e=>c(e,16,"0x")},g={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(e,t)=>t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},y={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify:({value:e})=>Number(e).toExponential()},_={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(e,t,r){const s=t||r,i=new n.Scalar(parseFloat(e));return s&&"0"===s[s.length-1]&&(i.minFractionDigits=s.length),i},stringify:n.stringifyNumber},b=o.concat([f,p,d,m,h,g,y,_]),v=e=>"bigint"===typeof e||Number.isInteger(e),E=({value:e})=>JSON.stringify(e),O=[s,i,{identify:e=>"string"===typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify:E},{identify:e=>null==e,createNode:(e,t,r)=>r.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:E},{identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:E},{identify:v,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:e=>n.intOptions.asBigInt?BigInt(e):parseInt(e,10),stringify:({value:e})=>v(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:E}];O.scalarFallback=e=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(e)}`)};var S=({value:e})=>e?n.boolOptions.trueStr:n.boolOptions.falseStr,w=e=>"bigint"===typeof e||Number.isInteger(e);function A(e,t,r){let s=t.replace(/_/g,"");if(n.intOptions.asBigInt){switch(r){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`}const t=BigInt(s);return"-"===e?BigInt(-1)*t:t}const i=parseInt(s,r);return"-"===e?-1*i:i}function x(e,t,r){const{value:s}=e;if(w(s)){const e=s.toString(t);return s<0?"-"+r+e.substr(1):r+e}return n.stringifyNumber(e)}var M=o.concat([{identify:e=>null==e,createNode:(e,t,r)=>r.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},{identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:n.boolOptions,stringify:S},{identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:n.boolOptions,stringify:S},{identify:w,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(e,t,n)=>A(t,n,2),stringify:e=>x(e,2,"0b")},{identify:w,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(e,t,n)=>A(t,n,8),stringify:e=>x(e,8,"0")},{identify:w,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(e,t,n)=>A(t,n,10),stringify:n.stringifyNumber},{identify:w,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(e,t,n)=>A(t,n,16),stringify:e=>x(e,16,"0x")},{identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(e,t)=>t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},{identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify:({value:e})=>Number(e).toExponential()},{identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(e,t){const r=new n.Scalar(parseFloat(e.replace(/_/g,"")));if(t){const e=t.replace(/_/g,"");"0"===e[e.length-1]&&(r.minFractionDigits=e.length)}return r},stringify:n.stringifyNumber}],r.binary,r.omap,r.pairs,r.set,r.intTime,r.floatTime,r.timestamp),T={core:b,failsafe:o,json:O,yaml11:M},N={binary:r.binary,bool:p,float:_,floatExp:y,floatNaN:g,floatTime:r.floatTime,int:m,intHex:h,intOct:d,intTime:r.intTime,map:s,null:f,omap:r.omap,pairs:r.pairs,seq:i,set:r.set,timestamp:r.timestamp};function L(e,t,r){if(e instanceof n.Node)return e;const{defaultPrefix:a,onTagObj:o,prevObjects:l,schema:u,wrapScalars:c}=r;t&&t.startsWith("!!")&&(t=a+t.slice(2));let f=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),r=e.find((e=>!e.format))||e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find((t=>(t.identify&&t.identify(e)||t.class&&e instanceof t.class)&&!t.format))}(e,t,u.tags);if(!f){if("function"===typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==typeof e)return c?new n.Scalar(e):e;f=e instanceof Map?s:e[Symbol.iterator]?i:s}o&&(o(f),delete r.onTagObj);const p={value:void 0,node:void 0};if(e&&"object"===typeof e&&l){const t=l.get(e);if(t){const e=new n.Alias(t);return r.aliasNodes.push(e),e}p.value=e,l.set(e,p)}return p.node=f.createNode?f.createNode(r.schema,e,r):c?new n.Scalar(e):e,t&&p.node instanceof n.Node&&(p.node.tag=t),p.node}var P=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,I=class e{constructor({customTags:e,merge:t,schema:n,sortMapEntries:s,tags:i}){this.merge=!!t,this.name=n,this.sortMapEntries=!0===s?P:s||null,!e&&i&&r.warnOptionDeprecation("tags","customTags"),this.tags=function(e,t,n,r){let s=e[r.replace(/\W/g,"")];if(!s){const t=Object.keys(e).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${t}`)}if(Array.isArray(n))for(const i of n)s=s.concat(i);else"function"===typeof n&&(s=n(s.slice()));for(let i=0;i<s.length;++i){const e=s[i];if("string"===typeof e){const n=t[e];if(!n){const n=Object.keys(t).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}s[i]=n}}return s}(T,N,e||i,n)}createNode(t,n,r,s){const i={defaultPrefix:e.defaultPrefix,schema:this,wrapScalars:n};return L(t,r,s?Object.assign(s,i):i)}createPair(e,t,r){r||(r={wrapScalars:!0});const s=this.createNode(e,r.wrapScalars,null,r),i=this.createNode(t,r.wrapScalars,null,r);return new n.Pair(s,i)}};t._defineProperty(I,"defaultPrefix",t.defaultTagPrefix),t._defineProperty(I,"defaultTags",t.defaultTags),e.Schema=I}}),require_types2=__commonJS({"node_modules/yaml/dist/types.js"(e){"use strict";var t=require_resolveSeq_d03cb037(),n=require_Schema_88e323a7();require_PlainValue_ec8e588e(),require_warnings_1000a372(),e.Alias=t.Alias,e.Collection=t.Collection,e.Merge=t.Merge,e.Node=t.Node,e.Pair=t.Pair,e.Scalar=t.Scalar,e.YAMLMap=t.YAMLMap,e.YAMLSeq=t.YAMLSeq,e.binaryOptions=t.binaryOptions,e.boolOptions=t.boolOptions,e.intOptions=t.intOptions,e.nullOptions=t.nullOptions,e.strOptions=t.strOptions,e.Schema=n.Schema}}),init_types2=__esm({"node_modules/yaml/types.mjs"(){import_types2=__toESM(require_types2(),1),binaryOptions=import_types2.default.binaryOptions,boolOptions=import_types2.default.boolOptions,intOptions=import_types2.default.intOptions,nullOptions=import_types2.default.nullOptions,strOptions=import_types2.default.strOptions,Schema=import_types2.default.Schema,Alias=import_types2.default.Alias,Collection=import_types2.default.Collection,Merge=import_types2.default.Merge,Node=import_types2.default.Node,Pair=import_types2.default.Pair,Scalar=import_types2.default.Scalar,YAMLMap=import_types2.default.YAMLMap,YAMLSeq=import_types2.default.YAMLSeq}});function getIn(e,t){return t.reduce(((e,t)=>t in e?e[t]:{}),e)}function addComments(e,t,n,r=n){const{title:s,description:i,comment:a}=getIn(e,t),o=[];option_default("renderTitle")&&s&&o.push(` ${s}`,""),option_default("renderDescription")&&i&&o.push(` ${i}`),option_default("renderComment")&&a&&o.push(` ${a}`),n.commentBefore=o.join("\n"),r instanceof YAMLMap?r.items.forEach((n=>{addComments(e,[...t,"items",n.key.value],n.key,n.value)})):r instanceof YAMLSeq&&r.items.forEach(((n,r)=>{addComments(e,[...t,"items",r],n)}))}function renderYAML({value:e,context:t}){const n=yaml_default.createNode(e);addComments(t,[],n);const r=new yaml_default.Document;return r.contents=n,r.toString()}var container,jsf,JSONSchemaFaker,lib_default,init_yaml=__esm({"src/lib/renderers/yaml.mjs"(){init_yaml(),init_types2(),init_option(),yaml_default=renderYAML}}),init_renderers=__esm({"src/lib/renderers/index.mjs"(){init_js(),init_yaml()}});function setupKeywords(){container.define("autoIncrement",(function(e,t){if(!this.offset){const n=t.minimum||1,r=n+constants_default.MAX_NUMBER,s=e.initialOffset||t.initialOffset;this.offset=s||random_default.number(n,r)}return e?this.offset++:t})),container.define("sequentialDate",(function(e,t){if(this.now||(this.now=random_default.date()),e){if(t=this.now.toISOString(),-1===["seconds","minutes","hours","days","weeks","months","years"].indexOf(e=!0===e?"days":e))throw new Error(`Unsupported increment by ${utils_default.short(e)}`);this.now.setTime(this.now.getTime()+random_default.date(e))}return t}))}function getRefs(e,t){let n={};function r(e){if(!e||"object"!==typeof e)return;if(Array.isArray(e))return e.forEach(r);const t=e.$id||e.id;"string"!==typeof t||n[t]||(n[t]=e),Object.keys(e).forEach((t=>{r(e[t])}))}return Array.isArray(e)?e.forEach((e=>{n[e.$id||e.id]=e})):n=e||{},r(e),r(t),n}var import_json_schema_ref_parser,import_jsonpath_plus,init_lib=__esm({"src/lib/index.mjs"(){init_vendor(),init_Container(),init_format(),init_option(),init_constants(),init_random(),init_utils(),init_run(),init_renderers(),container=new Container_default,(jsf=(e,t,n)=>(console.debug("[json-schema-faker] calling JSONSchemaFaker() is deprecated, call either .generate() or .resolve()"),n&&console.debug("[json-schema-faker] local references are only supported by calling .resolve()"),jsf.generate(e,t))).generateWithContext=(e,t)=>{const n=getRefs(t,e);return run_default(n,e,container,!0)},jsf.generate=(e,t)=>js_default(jsf.generateWithContext(e,t)),jsf.generateYAML=(e,t)=>yaml_default(jsf.generateWithContext(e,t)),jsf.resolveWithContext=(e,t,n)=>{"string"===typeof t&&(n=t,t={}),n=`${(n=n||("undefined"!==typeof process&&"function"===typeof process.cwd?process.cwd():"")).replace(/\/+$/,"")}/`;const r=getRefs(t,e),s={order:1,canRead(e){const t=e.url.replace("/:",":");return r[t]||r[t.split("/").pop()]},read(e,t){try{t(null,this.canRead(e))}catch(n){t(n)}}},{$RefParser:i}=getDependencies();return i.bundle(n,e,{resolve:{file:{order:100},http:{order:200},fixedRefs:s},dereference:{circular:"ignore"}}).then((e=>run_default(r,e,container))).catch((e=>{throw new Error(`Error while resolving schema (${e.message})`)}))},jsf.resolve=(e,t,n)=>jsf.resolveWithContext(e,t,n).then(js_default),jsf.resolveYAML=(e,t,n)=>jsf.resolveWithContext(e,t,n).then(yaml_default),setupKeywords(),jsf.format=format_default,jsf.option=option_default,jsf.random=random_default,jsf.extend=(e,t)=>(container.extend(e,t),jsf),jsf.define=(e,t)=>(container.define(e,t),jsf),jsf.reset=e=>(container.reset(e),setupKeywords(),jsf),jsf.locate=e=>container.get(e),jsf.VERSION="0.5.3",JSONSchemaFaker={...jsf},lib_default=jsf}}),main_exports={};__export(main_exports,{JSONSchemaFaker:()=>JSONSchemaFaker,default:()=>lib_default});var init_main=__esm({"src/lib/main.mjs"(){import_json_schema_ref_parser=__toESM(require("json-schema-ref-parser"),1),import_jsonpath_plus=require("jsonpath-plus"),init_vendor(),init_lib(),setDependencies({$RefParser:import_json_schema_ref_parser.default,JSONPath:import_jsonpath_plus.JSONPath})}}),jsf2=(init_main(),__toCommonJS(main_exports)).default;module.exports=jsf2,module.exports.JSONSchemaFaker={...jsf2};