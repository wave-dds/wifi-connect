(this["webpackJsonpwifi-connect-ui"]=this["webpackJsonpwifi-connect-ui"]||[]).push([[0],{1183:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(80),r=n.n(s),i=(n(480),n(481),n(173)),l=n(408),c=n.n(l),u=n(2),m=n(1194),d=n(461),p=n(1196),f=n(22),h=n(64),g=n(1195);const b=e=>{var t;return{type:"object",properties:{ssid:{title:"SSID",type:"string",default:null===(t=e[0])||void 0===t?void 0:t.ssid,oneOf:e.map(e=>({const:e.ssid,title:e.ssid}))},identity:{title:"User",type:"string",default:""},passphrase:{title:"Passphrase",type:"string",default:""}},required:["ssid"]}},w=e=>{let{availableNetworks:t,onSubmit:n}=e;const[o,s]=a.useState({}),r=(i=t,l=o.ssid,i.some(e=>e.ssid===l&&"enterprise"===e.security));var i,l,c;return a.createElement(f.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",m:4,mt:5},a.createElement(h.a.h3,{align:"center",mb:4,style:{color:"rgba(0,0,0,0.6)",fontSize:"16px",fontWeight:500}},"Please select your Wi-Fi from the dropdown and enter the Wi-Fi passphrase to connect your WAVE system."),a.createElement(g.a,{width:["100%","80%","60%","40%"],onFormChange:e=>{let{formData:t}=e;s(t)},onFormSubmit:e=>{let{formData:t}=e;return n(t)},value:o,schema:b(t),uiSchema:(c=r,{ssid:{"ui:placeholder":"Select SSID","ui:options":{emphasized:!0}},identity:{"ui:options":{emphasized:!0},"ui:widget":c?void 0:"hidden"},passphrase:{"ui:widget":"password","ui:options":{emphasized:!0}}}),submitButtonProps:{width:"60%",mx:"20%",mt:3,disabled:t.length<=0,style:{backgroundColor:"#2ad2c9",borderColor:"white",borderRadius:"4px",fontWeight:500,fontSize:"16px"}},submitButtonText:"Connect"}))};var y=n(15),E=n(467),v=n(19),S=n(460);const x=a.createElement(a.Fragment,null,a.createElement(v.a,{icon:S.a}),a.createElement(y.a.span,null,"   Error!")),k=e=>{let{hasAvailableNetworks:t,attemptedConnect:n,error:o}=e;return a.createElement(a.Fragment,null,n&&a.createElement(E.a,{m:2,info:!0},a.createElement(y.a.span,null,"Applying changes... "),a.createElement(y.a.span,null,"Your device will soon be online. If connection is unsuccessful, the Access Point will be back up in a few minutes, and reloading this page will allow you to try again.")),!t&&a.createElement(E.a,{m:2,warning:!0},a.createElement(y.a.span,null,"No Wi-Fi networks available.\xa0"),a.createElement(y.a.span,null,"Please ensure there is a network within range and refresh the list.")),!!o&&a.createElement(E.a,{m:2,danger:!0,prefix:x},a.createElement(y.a.span,null,o)))};var j,A,C;const F=Object(u.createGlobalStyle)(j||(j=Object(i.a)(["\n\t@font-face {\n\t\tfont-family: 'Avenir';\n\t\tsrc: url('/static/fonts/Avenir/AvenirLTStd-Roman.otf');\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: 'Avenir', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n\t\t\t'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n\t}\n"]))),O=Object(u.default)(m.a)(A||(A=Object(i.a)(["\n\tbackground-color: #fff;\n\tbox-shadow: rgba(33, 35, 38, 0.085) 0px 10px 10px -10px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),D=Object(u.default)(d.a)(C||(C=Object(i.a)(["\n\tfont-family: 'Avenir', sans-serif;\n"])));var N=()=>{const[e,t]=o.a.useState(!1),[n,a]=o.a.useState(!0),[s,r]=o.a.useState(""),[i,l]=o.a.useState([]);o.a.useEffect(()=>{fetch("/networks").then(e=>{if(200!==e.status)throw new Error(e.statusText);return e.json()}).then(l).catch(e=>{r("Failed to fetch available networks. ".concat(e.message||e))}).finally(()=>{a(!1)})},[]);return o.a.createElement(p.a,null,o.a.createElement(F,null),o.a.createElement(O,{brand:o.a.createElement("img",{src:c.a,style:{height:30},alt:"WAVE Drowning Detection Systems"})}),o.a.createElement(D,null,o.a.createElement(k,{attemptedConnect:e,hasAvailableNetworks:n||i.length>0,error:s}),o.a.createElement(w,{availableNetworks:i,onSubmit:e=>{t(!0),r(""),fetch("/connect",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>{if(200!==e.status)throw new Error(e.statusText)}).catch(e=>{r("Failed to connect to the network. ".concat(e.message||e))})}})))};r.a.render(o.a.createElement(N,null),document.getElementById("root"))},408:function(e,t,n){e.exports=n.p+"static/media/wavelogo.72e3c532.svg"},475:function(e,t,n){e.exports=n(1183)}},[[475,1,2]]]);