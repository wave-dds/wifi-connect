(this["webpackJsonpwifi-connect-ui"]=this["webpackJsonpwifi-connect-ui"]||[]).push([[0],{1183:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(80),r=n.n(o),s=(n(480),n(481),n(173)),l=n(408),c=n.n(l),u=n(2),d=n(1194),m=n(461),p=n(1196),h=n(22),f=n(64),g=n(27),y=n(1195);const w=()=>i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{strokeWidth:"0.1",fill:"currentColor",stroke:"currentColor",d:"M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"})),E=e=>{var t;return{type:"object",properties:{ssid:{title:"SSID",type:"string",default:null===(t=e[0])||void 0===t?void 0:t.ssid,oneOf:e.map(e=>({const:e.ssid,title:e.ssid}))},manualSsid:{title:"SSID",type:"string",default:""},showIdentity:{title:"Use Enterprise Security",type:"boolean",default:!1},identity:{title:"User",type:"string",default:""},passphrase:{title:"Passphrase",type:"string",default:""}},required:["ssid"]}},S=(e,t,n)=>({ssid:{"ui:placeholder":"Select SSID","ui:options":{emphasized:!0},"ui:widget":t?"hidden":void 0},manualSsid:{"ui:placeholder":"Enter SSID","ui:options":{emphasized:!0},"ui:widget":t?void 0:"hidden"},showIdentity:{"ui:widget":t?void 0:"hidden"},identity:{"ui:options":{emphasized:!0},"ui:widget":e||n?void 0:"hidden"},passphrase:{"ui:widget":"password","ui:options":{emphasized:!0}}}),b=e=>{let{fetchNetworks:t,availableNetworks:n,onSubmit:i}=e;const[o,r]=a.useState({}),[s,l]=a.useState(!1),[c,u]=a.useState(!1),d=(m=n,p=o.ssid,m.some(e=>e.ssid===p&&"enterprise"===e.security));var m,p;return a.createElement(h.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",m:4,mt:5},a.createElement(f.a.h3,{align:"center",mb:4,style:{color:"rgba(0,0,0,0.6)",fontSize:"16px",fontWeight:500}},a.createElement(h.a,{flexDirection:["column","row"],flexWrap:"wrap"},s?"Please enter your Wi-Fi SSID and enter the WiFi passphrase to connect your WAVE system.":"Please select your Wi-Fi from the dropdown and enter the Wi-Fi passphrase to connect your WAVE system.",!s&&a.createElement(g.a,{ml:[0,3],tertiary:!0,plain:!0,icon:a.createElement(w,null),onClick:t},"Rescan"),a.createElement(g.a,{ml:[0,3],tertiary:!0,plain:!0,onClick:()=>{l(!s)}},s?"Choose Wi-Fi from List":"Enter Wi-Fi SSID Manually"))),a.createElement(y.a,{width:["100%","80%","60%","40%"],onFormChange:e=>{let{formData:t}=e;t.manualSsid&&(t.ssid=t.manualSsid),u(t.showIdentity),r(t)},onFormSubmit:e=>{let{formData:t}=e;return i(t)},value:o,schema:E(n),uiSchema:S(d,s,c),submitButtonProps:{width:"60%",mx:"20%",mt:3,disabled:n.length<=0&&!o.ssid,style:{backgroundColor:"#2ad2c9",borderColor:"white",borderRadius:"4px",fontWeight:500,fontSize:"16px"}},submitButtonText:"Connect"}))};var v=n(15),k=n(467),x=n(19),W=n(460);const C=a.createElement(a.Fragment,null,a.createElement(x.a,{icon:W.a}),a.createElement(v.a.span,null," Error!")),F=e=>{let{hasAvailableNetworks:t,attemptedConnect:n,error:i}=e;return a.createElement(a.Fragment,null,n&&a.createElement(k.a,{m:2,info:!0},a.createElement(v.a.span,null,"Applying changes... "),a.createElement(v.a.span,null,"Your WAVE device is attempting to connect to your Wi-Fi network. Once connected, you will be able to access the device using the WAVE DDS Connect app. If the connection is unsuccessful, the WAVENetwork WiFi will reappear in your phones WiFi list and you can connect to it and try again.")),!t&&a.createElement(k.a,{m:2,warning:!0},a.createElement(v.a.span,null,"No Wi-Fi networks available. Click 'Rescan' to search again.")),!!i&&a.createElement(k.a,{m:2,danger:!0,prefix:C},a.createElement(v.a.span,null,i)))};var D,A,I;const j=Object(u.createGlobalStyle)(D||(D=Object(s.a)(["\n\t@font-face {\n\t\tfont-family: 'Avenir';\n\t\tsrc: url('/static/fonts/Avenir/AvenirLTStd-Roman.otf');\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: 'Avenir', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n\t\t\t'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n\t}\n"]))),N=Object(u.default)(d.a)(A||(A=Object(s.a)(["\n\tbackground-color: #fff;\n\tbox-shadow: rgba(33, 35, 38, 0.085) 0px 10px 10px -10px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),O=Object(u.default)(m.a)(I||(I=Object(s.a)(["\n\tfont-family: 'Avenir', sans-serif;\n"])));var z=()=>{const[e,t]=i.a.useState(!1),[n,a]=i.a.useState(!0),[o,r]=i.a.useState(""),[s,l]=i.a.useState([]),u=()=>{a(!0),fetch("/networks").then(e=>{if(200!==e.status)throw new Error(e.statusText);return e.json()}).then(l).catch(e=>{r("Failed to fetch available networks. ".concat(e.message||e))}).finally(()=>{a(!1)})};i.a.useEffect(()=>{u()},[]);return i.a.createElement(p.a,null,i.a.createElement(j,null),i.a.createElement(N,{brand:i.a.createElement("img",{src:c.a,style:{height:30,paddingLeft:25},alt:"WAVE Drowning Detection Systems"})}),i.a.createElement(O,null,i.a.createElement(F,{attemptedConnect:e,hasAvailableNetworks:n||s.length>0,error:o}),!e&&i.a.createElement(b,{fetchNetworks:u,availableNetworks:s,onSubmit:e=>{t(!0),r(""),fetch("/connect",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>{if(200!==e.status)throw new Error(e.statusText)}).catch(e=>{r("Failed to connect to the network. ".concat(e.message||e))})}})))};r.a.render(i.a.createElement(z,null),document.getElementById("root"))},408:function(e,t,n){e.exports=n.p+"static/media/wavelogo.72e3c532.svg"},475:function(e,t,n){e.exports=n(1183)}},[[475,1,2]]]);